function goFullScreen(){var t=document.getElementById("full_screen");document.getElementById("bezier-canvas");t.requestFullScreen?t.requestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen&&t.mozRequestFullScreen(),t.width="1200",t.height="933"}$(document).ready(function(){var t=document.getElementById("bezier-canvas");t.width=window.innerWidth,t.height=window.innerHeight,$(".wrap_map").css("background-color",function(t){var e=JSON.parse(localStorage.getItem("Settings"))||{mapColor:"rgba(255, 204, 128, 1)",mapStrokeColor:"rgba(0, 0, 0, 1)",mapPointsColor:"rgba(0, 0, 255, 1)",mapPointsBorderColor:"rgba(0, 0, 0, 1)",mapRouteColor:"rgba(0, 0, 0, 1)",bodyBackgroundColor:"rgba(243, 229, 245, 1)",routeBorderWidth:"4",pointsRadius:"8",pointsBorderWidth:"1"};if(e[t])return e[t]}("bodyBackgroundColor")),$("#openMap").bind("click",function(){$("#gallery").fadeIn(2e3)}),$('a[href^="#"]').click(function(){return elementClick=$(this).attr("href"),destination=$(elementClick).offset().top,$("body").animate({scrollTop:destination},700),$("html").animate({scrollTop:destination},700),!1})});var createNode=function(t,e,o,s){return"object"!=typeof o&&(o={x:t,y:e}),"object"!=typeof s&&(s={x:t,y:e}),{x:t,y:e,controls:[o,s],lock:!0}},p=function(t){void 0===t&&(t="got it"),console.log(t)},bezierEditor=function(t){var e={state:{down:!1,current:null,selectedNode:null,selectType:null,dragMode:0},nodes:[],canvas:null,pointSize:8,halfPointSize:0,backgroudImage:null,ctx:null,init:function(t){function o(t,e){var o=t.getBoundingClientRect();return{x:e.clientX-o.left,y:e.clientY-o.top}}window.onpopstate=function(t){t.state&&(e.nodes=t.state.nodes,e.state=t.state.state,e.draw())},this.canvas=document.getElementById(t),window.onkeypress=function(t){if(1==t.altKey&&console.log("lol"),1==t.ctrlKey)switch(console.log("ctrl"),t.keyCode){case 26:e.undo();break;case 25:e.redo();break;case 86:console.log(1),e.increaseScreen()}},this.canvas.onselectstart=function(){return!1},this.ctx=this.canvas.getContext("2d"),this.halfPointSize=this.pointSize/2;var s=0,r=0;this.canvas.onmousedown=function(t){var n=JSON.parse(localStorage.getItem("Settings"))||{mapColor:"rgba(255, 204, 128, 1)",mapStrokeColor:"rgba(0, 0, 0, 1)",mapPointsColor:"rgba(0, 0, 255, 1)",mapPointsBorderColor:"rgba(0, 0, 0, 1)",mapRouteColor:"rgba(0, 0, 0, 1)",bodyBackgroundColor:"rgba(243, 229, 245, 1)",routeBorderWidth:"4",pointsRadius:"8",pointsBorderWidth:"1"},l={cx:0,cy:0,r:n.pointsRadius,id:0};if(e.state.down=!0,1==t.ctrlKey)e.state.dragMode=2*t.ctrlKey+t.altKey,e.select(t);else if(1==t.shiftKey){try{var i=JSON.parse(localStorage.getItem("circlesCoords"))||[]}catch(t){}e.state.down=!1;var a=JSON.parse(localStorage.getItem("mapStyleProperties"))||{transform:""},c=(JSON.parse(localStorage.getItem("SreenCTM")),0),h=0,d=(document.getElementById("bezier-canvas"),document.getElementById("map_bg"));console.log(d);var u,f;if(a.transform.length>0){var g=a.transform.match(/[+-]?\d+(\.\d+)?/g).map(function(t){return parseFloat(t)});console.log(g),x=g[0],u=g[1],f=g[2],console.log(x,u,f)}else x=1,u=0,f=0;console.log(x,u,f);var y=o(d,t);x||x>0?(c=y.x/x,h=y.y/x,console.log(c,h)):(c=y.x,h=y.y),s++,l.cx=c,l.cy=h;var p=new Date;l.time=p.getTime(),console.log(s),i.push(l),console.log(i),localStorage.setItem("circlesCoords",JSON.stringify(i)),console.log(c,h);var S=n.pointsRadius;(P=this.getContext("2d")).beginPath(),P.fillStyle=n.mapPointsColor,P.arc(c,h,S,0,2*Math.PI),P.lineWidth=2,P.strokeStyle=n.mapPointsBorderColor,P.stroke(),P.fill(),console.log(P)}else if(1==t.altKey){try{var m=JSON.parse(localStorage.getItem("deleteCircles"))||[]}catch(t){}e.state.down=!1,console.log("lol");var v={cx:0,cy:0,r:8,id:0},x=JSON.parse(localStorage.getItem("zoom"));c=0,h=0,document.getElementById("bezier-canvas"),d=document.getElementById("map_bg");console.log(d);y=o(d,t);x||x>0?(c=y.x/x,h=y.y/x):(c=y.x,h=y.y),r++,v.cx=c,v.cy=h,console.log(r),m.push(v),console.log(m),localStorage.setItem("deleteCircles",JSON.stringify(m)),console.log(c,h);var P;S=8;(P=this.getContext("2d")).beginPath(),P.fillStyle="red",P.arc(c,h,8,0,2*Math.PI),P.fill(),console.log(P),e.draw()}else{for(var b=e.nodes,z=0;z<b.length;++z){var C=t.offsetX,N=t.offsetY;if(C>b[z].x-e.halfPointSize&&C<b[z].x+e.halfPointSize&&N>b[z].y-e.halfPointSize&&N<b[z].y+e.halfPointSize)return e.deleteNode(b[z]),void e.draw()}e.addNode(t)}},this.canvas.onmousemove=function(t){var o=t.offsetX,s=t.offsetY;if(1==e.state.down)switch(e.selectedNode&&e.cursor("all-scroll"),e.state.selectType){case"node":e.dragNode(o,s);break;case"control0":e.dragControlPoint(o,s,0);break;case"control1":e.dragControlPoint(o,s,1);break;default:e.createControlPoint(o,s)}else{for(var r=e.nodes,n=0;n<r.length;++n){o=t.offsetX,s=t.offsetY;if(o>r[n].x-e.halfPointSize&&o<r[n].x+e.halfPointSize&&s>r[n].y-e.halfPointSize&&s<r[n].y+e.halfPointSize)return void(t.ctrlKey?e.cursor("all-scroll"):e.cursor("alias"))}e.cursor("default")}1==t.shiftKey&&e.cursor("url(https://cdn0.iconfinder.com/data/icons/feather/96/circle-add-20.png) 10 10, auto "),1==t.altKey&&e.cursor("url(https://cdn0.iconfinder.com/data/icons/feather/96/circle-cross-20.png) 10 10, auto")},this.canvas.onmouseup=function(t){e.mouseup(t)}},cursor:function(t){this.canvas.style.cursor=t},loadImage:function(t){localStorage.removeItem("imgSize");this.backgroundImage=new Image,this.backgroundImage.src=t,this.draw()},save:function(){history.pushState({nodes:this.nodes,state:this.state},location.href)},increaseScreen:function(){document.getElementById("bezier-canvas").requestFullscreen()},undo:function(){history.back()},redo:function(){history.forward()},addNode:function(t){var e=t.offsetX,o=t.offsetY,s=createNode(e,o,{x:e,y:o},{x:e,y:o});this.nodes.push(s),this.state.current=s,this.save(),this.draw()},deleteNode:function(t){for(var e=this.nodes,o=0;o<e.length;++o)if(e[o]===t)return t===this.state.current&&(this.state.current=null),e.splice(o,1),void this.draw()},dragNode:function(t,e){var o=this.state.selectedNode;if(!o)return!1;var s=t-o.x,r=e-o.y;o.controls[0].x+=s,o.controls[0].y+=r,o.controls[1].x+=s,o.controls[1].y+=r,o.x=t,o.y=e,this.draw()},dragControlPoint:function(t,e,o){var s=this.state.selectedNode,r=s.controls[o],n=s.controls[1-o];if(3==this.state.dragMode||2==this.state.dragMode&&s.lock){var l=Math.atan((r.y-s.y)/(r.x-s.x)),i=Math.atan((e-s.y)/(t-s.x));r.x<s.x&&(l+=Math.PI),t<s.x&&(i+=Math.PI);var a={};a.x=(n.x-s.x)*Math.cos(i-l)-(n.y-s.y)*Math.sin(i-l)+s.x,a.y=(n.x-s.x)*Math.sin(i-l)+(n.y-s.y)*Math.cos(i-l)+s.y,s.controls[1-o]=a}r.x=t,r.y=e,this.draw()},createControlPoint:function(t,e){var o=this.state.current;o.controls[1].x=t,o.controls[1].y=e,o.controls[0].x=2*o.x-t,o.controls[0].y=2*o.y-e,this.draw()},mouseup:function(){this.state.down=!1,1==this.state.dragMode&&this.state.selectedNode&&(this.state.selectedNode.lock=!1),this.state.dragMode=0,this.state.selectedNode=null,this.state.selectType=null,this.cursor("default")},select:function(t){for(var e=this.nodes,o=0;o<e.length;++o){var s=t.offsetX,r=t.offsetY;if(s>e[o].x-this.halfPointSize&&s<e[o].x+this.halfPointSize&&r>e[o].y-this.halfPointSize&&r<e[o].y+this.halfPointSize)return this.cursor("all-scroll"),this.state.selectedNode=e[o],this.state.selectType="node",this.draw(),!0}for(o=0;o<e.length;++o){s=t.offsetX,r=t.offsetY;if(s>e[o].controls[0].x-this.halfPointSize&&s<e[o].controls[0].x+this.halfPointSize&&r>e[o].controls[0].y-this.halfPointSize&&r<e[o].controls[0].y+this.halfPointSize)return this.cursor("all-scroll"),this.state.selectedNode=e[o],this.state.selectType="control0",this.draw(),!0;if(s>e[o].controls[1].x-this.halfPointSize&&s<e[o].controls[1].x+this.halfPointSize&&r>e[o].controls[1].y-this.halfPointSize&&r<e[o].controls[1].y+this.halfPointSize)return this.cursor("all-scroll"),this.state.selectedNode=e[o],this.state.selectType="control1",this.draw(),!0}return this.state.selectedNode=null,this.state.selectType=null,!1},draw:function(){var t=JSON.parse(localStorage.getItem("Settings"))||{mapColor:"rgba(255, 204, 128, 1)",mapStrokeColor:"rgba(0, 0, 0, 1)",mapPointsColor:"rgba(0, 0, 255, 1)",mapPointsBorderColor:"rgba(0, 0, 0, 1)",mapRouteColor:"rgba(0, 0, 0, 1)",bodyBackgroundColor:"rgba(243, 229, 245, 1)",routeBorderWidth:"4",pointsRadius:"8",pointsBorderWidth:"1"},e=this.ctx;e.clearRect(0,0,this.canvas.width,this.canvas.height),e.save(),this.backgroundImage&&e.drawImage(this.backgroundImage,0,0),e.save(),e.strokeStyle="transparent",e.beginPath(),e.moveTo(0,0),e.lineTo(640,0),e.lineTo(640,480),e.lineTo(0,480),e.lineTo(0,0),e.stroke(),e.strokeStyle="#00FF00";var o=this.nodes;this.state.current&&(e.beginPath(),e.moveTo(this.state.current.x,this.state.current.y),e.lineTo(this.state.current.controls[0].x,this.state.current.controls[0].y),e.moveTo(this.state.current.x,this.state.current.y),e.lineTo(this.state.current.controls[1].x,this.state.current.controls[1].y),e.stroke(),e.fillStyle="#FFFF00",e.fillRect(this.state.current.controls[0].x-this.halfPointSize,this.state.current.controls[0].y-this.halfPointSize,this.pointSize,this.pointSize),e.fillRect(this.state.current.controls[1].x-this.halfPointSize,this.state.current.controls[1].y-this.halfPointSize,this.pointSize,this.pointSize)),e.save(),e.fillStyle="#FFFF00";for(var s=0;s<o.length;++s)e.fillRect(o[s].x-this.halfPointSize,o[s].y-this.halfPointSize,this.pointSize,this.pointSize);if(null!=this.state.selectedNode&&(e.fillStyle="#000",e.beginPath(),e.arc(this.state.selectedNode.controls[0].x,this.state.selectedNode.controls[0].y,this.halfPointSize,0,2*Math.PI,!0),e.closePath(),e.fill(),e.beginPath(),e.arc(this.state.selectedNode.controls[1].x,this.state.selectedNode.controls[1].y,this.halfPointSize,0,2*Math.PI,!0),e.closePath(),e.fill(),e.beginPath(),e.fillRect(this.state.selectedNode.x-this.halfPointSize,this.state.selectedNode.y-this.halfPointSize,this.pointSize,this.pointSize),e.moveTo(this.state.selectedNode.x,this.state.selectedNode.y),e.lineTo(this.state.selectedNode.controls[0].x,this.state.selectedNode.controls[0].y),e.moveTo(this.state.selectedNode.x,this.state.selectedNode.y),e.lineTo(this.state.selectedNode.controls[1].x,this.state.selectedNode.controls[1].y),e.stroke()),e.strokeStyle=t.mapRouteColor,o.length>1)for(s=0;s<o.length-1;++s)e.beginPath(),e.moveTo(o[s].x,o[s].y),e.bezierCurveTo(o[s].controls[1].x,o[s].controls[1].y,o[s+1].controls[0].x,o[s+1].controls[0].y,o[s+1].x,o[s+1].y),e.stroke();e.strokeStyle=t.mapRouteColor;var r=JSON.parse(localStorage.getItem("SavedCurves"));if(r){for(s=0;s<r.length;++s)e.beginPath(),e.moveTo(r[s].p1[0],r[s].p1[1]),e.bezierCurveTo(r[s].p2[0],r[s].p2[1],r[s].p3[0],r[s].p3[1],r[s].p4[0],r[s].p4[1]),e.stroke();e.strokeStyle=t.mapRouteColor}var n=JSON.parse(localStorage.getItem("circlesCoords"))||[],l=JSON.parse(localStorage.getItem("deleteCircles"))||[];if(n.length>0){for(s=0;s<n.length;s++)for(var i=0;i<l.length;i++)Math.abs(Math.round(n[s].cx-l[i].cx))<=8&&Math.abs(Math.round(n[s].cy-l[i].cy))<=8&&n.splice(s,1);console.log(n)}l.length=null,localStorage.setItem("deleteCircles",JSON.stringify(l)),localStorage.setItem("circlesCoords",JSON.stringify(n));for(s=0;s<n.length;s++)n&&(e.beginPath(),e.fillStyle=t.mapPointsColor,e.arc(n[s].cx,n[s].cy,t.pointsRadius,0,2*Math.PI),e.fill(),e.strokeStyle=t.mapPointsBorderColor,e.stroke())},getLength:function(){for(var t=function(t){return{f1:t*t*t,f2:3*t*t*(1-t),f3:3*t*(1-t)*(1-t),f4:(1-t)*(1-t)*(1-t)}},e=function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))},o=0,s=[],r=0;r<this.nodes.length-1;++r){for(var n=this.nodes[r],l=this.nodes[r+1],i=[n.x,n.y],a=[n.controls[1].x,n.controls[1].y],c=[l.controls[0].x,l.controls[0].y],h=[l.x,l.y],d=[n.x,n.y],u=0,f=0;f<1;f+=.01){var g=t(f),y=[0,0];y[0]=i[0]*g.f1+a[0]*g.f2+c[0]*g.f3+h[0]*g.f4,y[1]=i[1]*g.f1+a[1]*g.f2+c[1]*g.f3+h[1]*g.f4,u+=e(d,y),d=y}s.push(u),o+=u}var p=[];for(r=0;r<this.nodes.length-1;++r)p.push(s[r]/o);return p},exportBezier:function(){for(var t=[],e="M",o=(this.getLength(),0);o<this.nodes.length-1;++o){var s=this.nodes[o],r=this.nodes[o+1],n=[s.x,s.y],l=[s.controls[1].x,s.controls[1].y],i=[r.controls[0].x,r.controls[0].y],a=[r.x,r.y],c={};c.p1=n,c.p2=l,c.p3=i,c.p4=a,t.push(c),e+=" "+n[0]+", "+n[1]+" C "+l[0]+", "+l[1]+", "+ +i[0]+", "+i[1]+", "+a[0]+", "+a[1]+" T"}return e},ReturnSavedPath:function(){for(var t=JSON.parse(localStorage.getItem("SavedCurves"))||[],e="",o=(this.getLength(),0);o<this.nodes.length-1;++o){var s=this.nodes[o],r=this.nodes[o+1],n=[s.x,s.y],l=[s.controls[1].x,s.controls[1].y],i=[r.controls[0].x,r.controls[0].y],a=[r.x,r.y],c={};c.p1=n,c.p2=l,c.p3=i,c.p4=a,t.push(c),e+=" "+n[0]+", "+n[1]+" C "+l[0]+", "+l[1]+", "+ +i[0]+", "+i[1]+", "+a[0]+", "+a[1]+" T"}return localStorage.setItem("SavedSvgPath",JSON.stringify(e)),t},clearBezier:function(){var t=this.ctx;return e.nodes=[],t.clearRect(0,0,e.width,e.height),console.log(t),console.log(e),e}};return e.init(t),e};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJlemllci1lZGl0b3IuanMiXSwibmFtZXMiOlsiZ29GdWxsU2NyZWVuIiwiY2FudmFzV3JhcHBlciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZXF1ZXN0RnVsbFNjcmVlbiIsIndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIiwibW96UmVxdWVzdEZ1bGxTY3JlZW4iLCJ3aWR0aCIsImhlaWdodCIsIiQiLCJyZWFkeSIsImNhbnZhcyIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNzcyIsInNldHRpbmciLCJTZXR0aW5nc09iamVjdCIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJtYXBDb2xvciIsIm1hcFN0cm9rZUNvbG9yIiwibWFwUG9pbnRzQ29sb3IiLCJtYXBQb2ludHNCb3JkZXJDb2xvciIsIm1hcFJvdXRlQ29sb3IiLCJib2R5QmFja2dyb3VuZENvbG9yIiwicm91dGVCb3JkZXJXaWR0aCIsInBvaW50c1JhZGl1cyIsInBvaW50c0JvcmRlcldpZHRoIiwiZ2V0U2V0dGluZ0Zyb21TdG9yYWdlIiwiYmluZCIsImZhZGVJbiIsImNsaWNrIiwiZWxlbWVudENsaWNrIiwidGhpcyIsImF0dHIiLCJkZXN0aW5hdGlvbiIsIm9mZnNldCIsInRvcCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJjcmVhdGVOb2RlIiwieCIsInkiLCJjb250cm9sMSIsImNvbnRyb2wyIiwiY29udHJvbHMiLCJsb2NrIiwicCIsInRleHQiLCJjb25zb2xlIiwibG9nIiwiYmV6aWVyRWRpdG9yIiwiaWQiLCJlZGl0b3IiLCJzdGF0ZSIsImRvd24iLCJjdXJyZW50Iiwic2VsZWN0ZWROb2RlIiwic2VsZWN0VHlwZSIsImRyYWdNb2RlIiwibm9kZXMiLCJwb2ludFNpemUiLCJoYWxmUG9pbnRTaXplIiwiYmFja2dyb3VkSW1hZ2UiLCJjdHgiLCJpbml0IiwiZ2V0TW91c2VQb3MiLCJzdmciLCJldnQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50WCIsImxlZnQiLCJjbGllbnRZIiwib25wb3BzdGF0ZSIsImUiLCJkcmF3Iiwib25rZXlwcmVzcyIsImFsdEtleSIsImN0cmxLZXkiLCJrZXlDb2RlIiwidW5kbyIsInJlZG8iLCJpbmNyZWFzZVNjcmVlbiIsIm9uc2VsZWN0c3RhcnQiLCJnZXRDb250ZXh0IiwiY291bnRlciIsImRlbGV0ZUNvdW50ZXIiLCJvbm1vdXNlZG93biIsIlNldHRpbmdzT2JqIiwiY2lyY2xlcyIsImN4IiwiY3kiLCJyIiwic2VsZWN0Iiwic2hpZnRLZXkiLCJjaXJjbGVzQXJyIiwiZXJyIiwiRGlzcGxhY2VtZW50IiwidHJhbnNmb3JtIiwiY2xpY2tYIiwiY2xpY2tZIiwibGVuZ3RoIiwiU3RyaW5nVmFsdWVzIiwibWF0Y2giLCJtYXAiLCJ2IiwicGFyc2VGbG9hdCIsInpvb20iLCJwb3MiLCJwb2ludERhdGUiLCJEYXRlIiwidGltZSIsImdldFRpbWUiLCJwdXNoIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImJlZ2luUGF0aCIsImZpbGxTdHlsZSIsImFyYyIsIk1hdGgiLCJQSSIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlIiwic3Ryb2tlIiwiZmlsbCIsImNpcmNsZXNBcnJSZW1vdmUiLCJjaXJjbGVzVG9EZWxldGUiLCJfbm9kZXMiLCJpIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJkZWxldGVOb2RlIiwiYWRkTm9kZSIsIm9ubW91c2Vtb3ZlIiwiY3Vyc29yIiwiZHJhZ05vZGUiLCJkcmFnQ29udHJvbFBvaW50IiwiY3JlYXRlQ29udHJvbFBvaW50Iiwib25tb3VzZXVwIiwibW91c2V1cCIsInR5cGUiLCJzdHlsZSIsImxvYWRJbWFnZSIsImltYWdlVVJMIiwicmVtb3ZlSXRlbSIsImJhY2tncm91bmRJbWFnZSIsIkltYWdlIiwic3JjIiwic2F2ZSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJsb2NhdGlvbiIsImhyZWYiLCJyZXF1ZXN0RnVsbHNjcmVlbiIsImJhY2siLCJmb3J3YXJkIiwiX25vZGUiLCJub2RlIiwic3BsaWNlIiwiZGVsdGFYIiwiZGVsdGFZIiwiaW5kZXgiLCJhIiwiYiIsImFuZ2xlSW5pdCIsImF0YW4iLCJhbmdsZUEiLCJ0ZW1wIiwiY29zIiwic2luIiwiX2N0eCIsImNsZWFyUmVjdCIsImRyYXdJbWFnZSIsIm1vdmVUbyIsImxpbmVUbyIsImZpbGxSZWN0IiwiY2xvc2VQYXRoIiwiYmV6aWVyQ3VydmVUbyIsIlNhdmVkTWFwTGluZXMiLCJwMSIsInAyIiwicDMiLCJwNCIsInNhdmVkTWFwQ29vcmRzIiwiZGVsZXRlTWFwQ29vcmRzIiwiaiIsImFicyIsInJvdW5kIiwiZ2V0TGVuZ3RoIiwiY29lZmZpY2llbnQiLCJ0IiwiZjEiLCJmMiIsImYzIiwiZjQiLCJzcXJ0IiwidG90YWwiLCJsZW5ndGhzIiwibjEiLCJuMiIsImxhc3RQb2ludCIsInRvdGFsTGVuZ3RoIiwiYyIsInBvaW50IiwicmVzdWx0IiwiZXhwb3J0QmV6aWVyIiwiQXJyTGluZXMiLCJzdHJpbmciLCJMaW5lT2JqIiwiUmV0dXJuU2F2ZWRQYXRoIiwiU2F2ZWRMaW5lcyIsImNsZWFyQmV6aWVyIl0sIm1hcHBpbmdzIjoiQUE4Q0EsU0FBU0EsZUFFTCxJQUFJQyxFQUFnQkMsU0FBU0MsZUFBZSxlQUMvQkQsU0FBU0MsZUFBZSxpQkFDakNGLEVBQWNHLGtCQUNkSCxFQUFjRyxvQkFFUEgsRUFBY0ksd0JBQ3JCSixFQUFjSSwwQkFDVEosRUFBY0ssc0JBQ25CTCxFQUFjSyx1QkFFbEJMLEVBQWNNLE1BQVEsT0FDdEJOLEVBQWNPLE9BQVMsTUEzRDNCQyxFQUFFUCxVQUFVUSxNQUFNLFdBQ2QsSUFBSUMsRUFBU1QsU0FBU0MsZUFBZSxpQkFFckNRLEVBQU9KLE1BQVFLLE9BQU9DLFdBQ3RCRixFQUFPSCxPQUFTSSxPQUFPRSxZQW9CdkJMLEVBQUUsYUFBYU0sSUFBSSxtQkFqQm5CLFNBQStCQyxHQUMzQixJQUFJQyxFQUFpQkMsS0FBS0MsTUFBTUMsYUFBYUMsUUFBUSxlQUNqREMsU0FBVSx5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QUlzRSxFQUFLdEssS0FBSzJCLE1BQU1xRSxHQUNoQnVFLEVBQUt2SyxLQUFLMkIsTUFBTXFFLEVBQUksR0FDcEJtRCxHQUFNbUIsRUFBRzlKLEVBQUc4SixFQUFHN0osR0FDZjJJLEdBQU1rQixFQUFHMUosU0FBUyxHQUFHSixFQUFHOEosRUFBRzFKLFNBQVMsR0FBR0gsR0FDdkM0SSxHQUFNa0IsRUFBRzNKLFNBQVMsR0FBR0osRUFBRytKLEVBQUczSixTQUFTLEdBQUdILEdBQ3ZDNkksR0FBTWlCLEVBQUcvSixFQUFHK0osRUFBRzlKLEdBRWZ1SyxLQUNKQSxFQUFRN0IsR0FBS0EsRUFDYjZCLEVBQVE1QixHQUFLQSxFQUNiNEIsRUFBUTNCLEdBQUtBLEVBQ2IyQixFQUFRMUIsR0FBS0EsRUFDYndCLEVBQVM3RixLQUFLK0YsR0FDZEUsR0FBYyxJQUFNL0IsRUFBRyxHQUFLLEtBQU9BLEVBQUcsR0FBSyxNQUNqQ0MsRUFBRyxHQUFLLEtBQU9BLEVBQUcsR0FBSyxPQUM1QkMsRUFBRyxHQUFLLEtBQU9BLEVBQUcsR0FBSyxLQUNuQkMsRUFBRyxHQUFLLEtBQU9BLEVBQUcsR0FBSyxLQUlwQyxPQUZBdEssYUFBYWtHLFFBQVEsZUFBZ0JwRyxLQUFLcUcsVUFBVStGLElBRTdDSixHQUlYSyxZQUFhLFdBQ1QsSUFBSXpDLEVBQU8xSSxLQUFLK0IsSUFNaEIsT0FMQVgsRUFBT08sU0FDUCtHLEVBQUtDLFVBQVUsRUFBRyxFQUFHdkgsRUFBT2pELE1BQU9pRCxFQUFPaEQsUUFDMUM0QyxRQUFRQyxJQUFJeUgsR0FDWjFILFFBQVFDLElBQUlHLEdBRUxBLElBU2YsT0FEQUEsRUFBT1ksS0FBS2IsR0FDTEMiLCJmaWxlIjoiYmV6aWVyLWVkaXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmV6aWVyLWNhbnZhc1wiKTtcclxuXHJcbiAgICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFNldHRpbmdGcm9tU3RvcmFnZShzZXR0aW5nKSB7XHJcbiAgICAgICAgdmFyIFNldHRpbmdzT2JqZWN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIlNldHRpbmdzXCIpKSB8fCB7XHJcbiAgICAgICAgICAgIG1hcENvbG9yOiBcInJnYmEoMjU1LCAyMDQsIDEyOCwgMSlcIixcclxuICAgICAgICAgICAgbWFwU3Ryb2tlQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAxKVwiLFxyXG4gICAgICAgICAgICBtYXBQb2ludHNDb2xvcjogXCJyZ2JhKDAsIDAsIDI1NSwgMSlcIixcclxuICAgICAgICAgICAgbWFwUG9pbnRzQm9yZGVyQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAxKVwiLFxyXG4gICAgICAgICAgICBtYXBSb3V0ZUNvbG9yOiBcInJnYmEoMCwgMCwgMCwgMSlcIixcclxuICAgICAgICAgICAgYm9keUJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDI0MywgMjI5LCAyNDUsIDEpXCIsXHJcbiAgICAgICAgICAgIHJvdXRlQm9yZGVyV2lkdGg6IFwiNFwiLFxyXG4gICAgICAgICAgICBwb2ludHNSYWRpdXM6IFwiOFwiLFxyXG4gICAgICAgICAgICBwb2ludHNCb3JkZXJXaWR0aDogXCIxXCJcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChTZXR0aW5nc09iamVjdFtzZXR0aW5nXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gU2V0dGluZ3NPYmplY3Rbc2V0dGluZ107XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICQoXCIud3JhcF9tYXBcIikuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJib2R5QmFja2dyb3VuZENvbG9yXCIpKTtcclxuXHJcblxyXG5cclxuICAgICQoJyNvcGVuTWFwJykuYmluZChcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoJyNnYWxsZXJ5JykuZmFkZUluKDIwMDApO1xyXG4gICAgfSk7XHJcbiAgICAkKCdhW2hyZWZePVwiI1wiXScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGVsZW1lbnRDbGljayA9ICQodGhpcykuYXR0cihcImhyZWZcIik7XHJcbiAgICAgICAgZGVzdGluYXRpb24gPSAkKGVsZW1lbnRDbGljaykub2Zmc2V0KCkudG9wO1xyXG5cclxuICAgICAgICAkKCdib2R5JykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogZGVzdGluYXRpb24gfSwgNzAwKTtcclxuXHJcbiAgICAgICAgJCgnaHRtbCcpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IGRlc3RpbmF0aW9uIH0sIDcwMCk7XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIGdvRnVsbFNjcmVlbigpIHtcclxuXHJcbiAgICB2YXIgY2FudmFzV3JhcHBlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZnVsbF9zY3JlZW5cIik7XHJcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiZXppZXItY2FudmFzXCIpO1xyXG4gICAgaWYgKGNhbnZhc1dyYXBwZXIucmVxdWVzdEZ1bGxTY3JlZW4pIHtcclxuICAgICAgICBjYW52YXNXcmFwcGVyLnJlcXVlc3RGdWxsU2NyZWVuKCk7XHJcblxyXG4gICAgfSBlbHNlIGlmIChjYW52YXNXcmFwcGVyLndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuKVxyXG4gICAgICAgIGNhbnZhc1dyYXBwZXIud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4oKTtcclxuICAgIGVsc2UgaWYgKGNhbnZhc1dyYXBwZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtcclxuICAgICAgICBjYW52YXNXcmFwcGVyLm1velJlcXVlc3RGdWxsU2NyZWVuKCk7XHJcbiAgICB9XHJcbiAgICBjYW52YXNXcmFwcGVyLndpZHRoID0gXCIxMjAwXCI7XHJcbiAgICBjYW52YXNXcmFwcGVyLmhlaWdodCA9IFwiOTMzXCI7XHJcbn1cclxuXHJcbnZhciBjcmVhdGVOb2RlID0gZnVuY3Rpb24oeCwgeSwgY29udHJvbDEsIGNvbnRyb2wyKSB7XHJcbiAgICBpZiAodHlwZW9mKGNvbnRyb2wxKSAhPSAnb2JqZWN0JylcclxuICAgICAgICBjb250cm9sMSA9IHtcclxuICAgICAgICAgICAgeDogeCxcclxuICAgICAgICAgICAgeTogeSxcclxuICAgICAgICB9O1xyXG4gICAgaWYgKHR5cGVvZihjb250cm9sMikgIT0gJ29iamVjdCcpXHJcbiAgICAgICAgY29udHJvbDIgPSB7XHJcbiAgICAgICAgICAgIHg6IHgsXHJcbiAgICAgICAgICAgIHk6IHksXHJcbiAgICAgICAgfTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgeDogeCxcclxuICAgICAgICB5OiB5LFxyXG4gICAgICAgIGNvbnRyb2xzOiBbY29udHJvbDEsIGNvbnRyb2wyXSxcclxuICAgICAgICBsb2NrOiB0cnVlLFxyXG4gICAgfVxyXG59O1xyXG4vL2ZvciBkZWJ1Z1xyXG52YXIgcCA9IGZ1bmN0aW9uKHRleHQpIHtcclxuICAgIGlmICh0eXBlb2YodGV4dCkgPT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAgdGV4dCA9ICdnb3QgaXQnO1xyXG4gICAgY29uc29sZS5sb2codGV4dCk7XHJcbn1cclxudmFyIGJlemllckVkaXRvciA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICB2YXIgZWRpdG9yID0ge1xyXG4gICAgICAgIHN0YXRlOiB7XHJcbiAgICAgICAgICAgIGRvd246IGZhbHNlLFxyXG4gICAgICAgICAgICBjdXJyZW50OiBudWxsLFxyXG4gICAgICAgICAgICBzZWxlY3RlZE5vZGU6IG51bGwsXHJcbiAgICAgICAgICAgIHNlbGVjdFR5cGU6IG51bGwsXHJcbiAgICAgICAgICAgIGRyYWdNb2RlOiAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbm9kZXM6IFtdLFxyXG4gICAgICAgIGNhbnZhczogbnVsbCxcclxuICAgICAgICBwb2ludFNpemU6IDgsXHJcbiAgICAgICAgaGFsZlBvaW50U2l6ZTogMCxcclxuICAgICAgICBiYWNrZ3JvdWRJbWFnZTogbnVsbCxcclxuICAgICAgICBjdHg6IG51bGwsXHJcbiAgICAgICAgaW5pdDogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICAgICAgLy9oaXN0b3J5XHJcbiAgICAgICAgICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUuc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3Iubm9kZXMgPSBlLnN0YXRlLm5vZGVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5zdGF0ZSA9IGUuc3RhdGUuc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgLy9ob29rIEN0cmwrWiBhbmQgQ3RybCtZIG9mIHRoZSBjYW52YXNcclxuICAgICAgICAgICAgd2luZG93Lm9ua2V5cHJlc3MgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5hbHRLZXkgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2wnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY3RybFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI2OiAvLyBDdHJsK1pcdFVuZG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci51bmRvKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNTogLy8gQ3RybCtZXHRSZWRvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IucmVkbygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5pbmNyZWFzZVNjcmVlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRNb3VzZVBvcyhzdmcsIGV2dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlY3QgPSBzdmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IGV2dC5jbGllbnRYIC0gcmVjdC5sZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IGV2dC5jbGllbnRZIC0gcmVjdC50b3BcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW52YXMub25zZWxlY3RzdGFydCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH1cclxuICAgICAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhhbGZQb2ludFNpemUgPSB0aGlzLnBvaW50U2l6ZSAvIDI7XHJcblxyXG4gICAgICAgICAgICB2YXIgY291bnRlciA9IDA7XHJcbiAgICAgICAgICAgIHZhciBkZWxldGVDb3VudGVyID0gMDtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW52YXMub25tb3VzZWRvd24gPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgU2V0dGluZ3NPYmogPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdTZXR0aW5ncycpKSB8fCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwQ29sb3I6IFwicmdiYSgyNTUsIDIwNCwgMTI4LCAxKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcFN0cm9rZUNvbG9yOiBcInJnYmEoMCwgMCwgMCwgMSlcIixcclxuICAgICAgICAgICAgICAgICAgICBtYXBQb2ludHNDb2xvcjogXCJyZ2JhKDAsIDAsIDI1NSwgMSlcIixcclxuICAgICAgICAgICAgICAgICAgICBtYXBQb2ludHNCb3JkZXJDb2xvcjogXCJyZ2JhKDAsIDAsIDAsIDEpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFwUm91dGVDb2xvcjogXCJyZ2JhKDAsIDAsIDAsIDEpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYm9keUJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDI0MywgMjI5LCAyNDUsIDEpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcm91dGVCb3JkZXJXaWR0aDogXCI0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzUmFkaXVzOiBcIjhcIixcclxuICAgICAgICAgICAgICAgICAgICBwb2ludHNCb3JkZXJXaWR0aDogXCIxXCJcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGNpcmNsZXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3g6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgY3k6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgcjogU2V0dGluZ3NPYmoucG9pbnRzUmFkaXVzLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiAwXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBlZGl0b3Iuc3RhdGUuZG93biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5ID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc3RhdGUuZHJhZ01vZGUgPSBlLmN0cmxLZXkgKiAyICsgZS5hbHRLZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnNlbGVjdChlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5zaGlmdEtleSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNpcmNsZXNBcnIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaXJjbGVzQ29vcmRzJykpIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc3RhdGUuZG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBEaXNwbGFjZW1lbnQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtYXBTdHlsZVByb3BlcnRpZXMnKSkgfHwgeyB0cmFuc2Zvcm06IFwiXCIgfTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2NyZWVuQ2hhbmdlZENUTSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJTcmVlbkNUTVwiKSkgfHwgeyB6b29tOiAwLCBlOiAwLCBmOiAwIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsaWNrWCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsaWNrWSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmV6aWVyLWNhbnZhc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3ZnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBfYmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3ZnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgem9vbSwgbGVmdCwgdG9wO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoRGlzcGxhY2VtZW50LnRyYW5zZm9ybSkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzY2FsZUltZyA9IHN0eWxlUHJvcHMudHJhbnNmb3JtO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zZm9ybVN0cmluZyA9IChEaXNwbGFjZW1lbnQudHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2NhbGVJbWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVnZXggPSAvWystXT9cXGQrKFxcLlxcZCspPy9nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgU3RyaW5nVmFsdWVzID0gdHJhbnNmb3JtU3RyaW5nLm1hdGNoKHJlZ2V4KS5tYXAoZnVuY3Rpb24odikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhTdHJpbmdWYWx1ZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgem9vbSA9IFN0cmluZ1ZhbHVlc1swXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IFN0cmluZ1ZhbHVlc1sxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcCA9IFN0cmluZ1ZhbHVlc1syXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coem9vbSwgbGVmdCwgdG9wKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9vbSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3AgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh6b29tLCBsZWZ0LCB0b3ApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gZ2V0TW91c2VQb3Moc3ZnLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoem9vbSB8fCB6b29tID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlja1ggPSBwb3MueCAvIHpvb207XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrWSA9IHBvcy55IC8gem9vbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2xpY2tYLCBjbGlja1kpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrWCA9IHBvcy54O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlja1kgPSBwb3MueTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb3VudGVyKys7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNpcmNsZXMuY3ggPSBjbGlja1g7XHJcbiAgICAgICAgICAgICAgICAgICAgY2lyY2xlcy5jeSA9IGNsaWNrWTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnREYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBjaXJjbGVzLnRpbWUgPSBwb2ludERhdGUuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvdW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNpcmNsZXMuZXhfaWQgPSBjb3VudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNpcmNsZXNBcnIucHVzaChjaXJjbGVzKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaXJjbGVzQXJyKTtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2lyY2xlc0Nvb3JkcycsIEpTT04uc3RyaW5naWZ5KGNpcmNsZXNBcnIpKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjbGlja1gsIGNsaWNrWSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByID0gU2V0dGluZ3NPYmoucG9pbnRzUmFkaXVzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBTZXR0aW5nc09iai5tYXBQb2ludHNDb2xvcjtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5hcmMoY2xpY2tYLCBjbGlja1ksIHIsIDAsIDIgKiBNYXRoLlBJKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBTZXR0aW5nc09iai5tYXBQb2ludHNCb3JkZXJDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjdHgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmFsdEtleSA9PSB0cnVlKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2lyY2xlc0FyclJlbW92ZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RlbGV0ZUNpcmNsZXMnKSkgfHwgW107XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnN0YXRlLmRvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbG9sJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaXJjbGVzVG9EZWxldGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN4OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjeTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcjogOCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IDBcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB6b29tID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnem9vbScpKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xpY2tYID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xpY2tZID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiZXppZXItY2FudmFzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcF9iZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdmcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gZ2V0TW91c2VQb3Moc3ZnLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoem9vbSB8fCB6b29tID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlja1ggPSBwb3MueCAvIHpvb207XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrWSA9IHBvcy55IC8gem9vbTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlja1ggPSBwb3MueDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tZID0gcG9zLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ291bnRlcisrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjaXJjbGVzVG9EZWxldGUuY3ggPSBjbGlja1g7XHJcbiAgICAgICAgICAgICAgICAgICAgY2lyY2xlc1RvRGVsZXRlLmN5ID0gY2xpY2tZO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRlbGV0ZUNvdW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNpcmNsZXMuaWQgPSBjb3VudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNpcmNsZXNBcnJSZW1vdmUucHVzaChjaXJjbGVzVG9EZWxldGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNpcmNsZXNBcnJSZW1vdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkZWxldGVDaXJjbGVzJywgSlNPTi5zdHJpbmdpZnkoY2lyY2xlc0FyclJlbW92ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNsaWNrWCwgY2xpY2tZKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgciA9IDg7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJlZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5hcmMoY2xpY2tYLCBjbGlja1ksIDgsIDAsIDIgKiBNYXRoLlBJKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGN0eCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmRyYXcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfbm9kZXMgPSBlZGl0b3Iubm9kZXM7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF9ub2Rlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IGUub2Zmc2V0WDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSBlLm9mZnNldFk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeCA+IF9ub2Rlc1tpXS54IC0gZWRpdG9yLmhhbGZQb2ludFNpemUgJiYgeCA8IF9ub2Rlc1tpXS54ICsgZWRpdG9yLmhhbGZQb2ludFNpemUgJiYgeSA+IF9ub2Rlc1tpXS55IC0gZWRpdG9yLmhhbGZQb2ludFNpemUgJiYgeSA8IF9ub2Rlc1tpXS55ICsgZWRpdG9yLmhhbGZQb2ludFNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5kZWxldGVOb2RlKF9ub2Rlc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuYWRkTm9kZShlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB4ID0gZS5vZmZzZXRYO1xyXG4gICAgICAgICAgICAgICAgdmFyIHkgPSBlLm9mZnNldFk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRvci5zdGF0ZS5kb3duID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdG9yLnNlbGVjdGVkTm9kZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmN1cnNvcihcImFsbC1zY3JvbGxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlZGl0b3Iuc3RhdGUuc2VsZWN0VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdub2RlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5kcmFnTm9kZSh4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjb250cm9sMCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZHJhZ0NvbnRyb2xQb2ludCh4LCB5LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjb250cm9sMSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZHJhZ0NvbnRyb2xQb2ludCh4LCB5LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNyZWF0ZUNvbnRyb2xQb2ludCh4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfbm9kZXMgPSBlZGl0b3Iubm9kZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfbm9kZXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBlLm9mZnNldFg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ID0gZS5vZmZzZXRZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeCA+IF9ub2Rlc1tpXS54IC0gZWRpdG9yLmhhbGZQb2ludFNpemUgJiYgeCA8IF9ub2Rlc1tpXS54ICsgZWRpdG9yLmhhbGZQb2ludFNpemUgJiYgeSA+IF9ub2Rlc1tpXS55IC0gZWRpdG9yLmhhbGZQb2ludFNpemUgJiYgeSA8IF9ub2Rlc1tpXS55ICsgZWRpdG9yLmhhbGZQb2ludFNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZS5jdHJsS2V5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jdXJzb3IoXCJhbGlhc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY3Vyc29yKFwiYWxsLXNjcm9sbFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmN1cnNvcihcImRlZmF1bHRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jdXJzb3IoXCJ1cmwoaHR0cHM6Ly9jZG4wLmljb25maW5kZXIuY29tL2RhdGEvaWNvbnMvZmVhdGhlci85Ni9jaXJjbGUtYWRkLTIwLnBuZykgMTAgMTAsIGF1dG8gXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChlLmFsdEtleSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmN1cnNvcihcInVybChodHRwczovL2NkbjAuaWNvbmZpbmRlci5jb20vZGF0YS9pY29ucy9mZWF0aGVyLzk2L2NpcmNsZS1jcm9zcy0yMC5wbmcpIDEwIDEwLCBhdXRvXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5vbm1vdXNldXAgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IubW91c2V1cChlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjdXJzb3I6IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yID0gdHlwZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBsb2FkSW1hZ2U6IGZ1bmN0aW9uKGltYWdlVVJMKSB7XHJcbiAgICAgICAgICAgIC8vIHZhciBiZ0ltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICAvLyBiZ0ltZy5zcmMgPSBpbWFnZVVSTDtcclxuICAgICAgICAgICAgLy8gYmdJbWcub25sb2FkID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgLy8gXHR0aGlzLmJhY2tncm91bmRJbWFnZSA9IGJnSW1nO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpbWdTaXplJyk7XHJcbiAgICAgICAgICAgIHZhciBpbWdTaXplID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZEltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZEltYWdlLnNyYyA9IGltYWdlVVJMO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kcmF3KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzYXZlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoeyBub2RlczogdGhpcy5ub2Rlcywgc3RhdGU6IHRoaXMuc3RhdGUgfSwgbG9jYXRpb24uaHJlZik7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaW5jcmVhc2VTY3JlZW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJlemllci1jYW52YXNcIikucmVxdWVzdEZ1bGxzY3JlZW4oKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB1bmRvOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaGlzdG9yeS5iYWNrKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcmVkbzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGhpc3RvcnkuZm9yd2FyZCgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGFkZE5vZGU6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdmFyIHggPSBlLm9mZnNldFg7XHJcbiAgICAgICAgICAgIHZhciB5ID0gZS5vZmZzZXRZO1xyXG4gICAgICAgICAgICB2YXIgX25vZGUgPSBjcmVhdGVOb2RlKHgsIHksIHsgeDogeCwgeTogeSB9LCB7IHg6IHgsIHk6IHkgfSk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZXMucHVzaChfbm9kZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuY3VycmVudCA9IF9ub2RlO1xyXG4gICAgICAgICAgICB0aGlzLnNhdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5kcmF3KCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZGVsZXRlTm9kZTogZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICAgICAgICB2YXIgX25vZGVzID0gdGhpcy5ub2RlcztcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfbm9kZXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfbm9kZXNbaV0gPT09IG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSA9PT0gdGhpcy5zdGF0ZS5jdXJyZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIF9ub2Rlcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZHJhZ05vZGU6IGZ1bmN0aW9uKHgsIHkpIHtcclxuICAgICAgICAgICAgdmFyIF9ub2RlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZE5vZGU7XHJcbiAgICAgICAgICAgIGlmICghX25vZGUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBkZWx0YVggPSB4IC0gX25vZGUueDtcclxuICAgICAgICAgICAgdmFyIGRlbHRhWSA9IHkgLSBfbm9kZS55O1xyXG4gICAgICAgICAgICBfbm9kZS5jb250cm9sc1swXS54ICs9IGRlbHRhWDtcclxuICAgICAgICAgICAgX25vZGUuY29udHJvbHNbMF0ueSArPSBkZWx0YVk7XHJcbiAgICAgICAgICAgIF9ub2RlLmNvbnRyb2xzWzFdLnggKz0gZGVsdGFYO1xyXG4gICAgICAgICAgICBfbm9kZS5jb250cm9sc1sxXS55ICs9IGRlbHRhWTtcclxuICAgICAgICAgICAgX25vZGUueCA9IHg7XHJcbiAgICAgICAgICAgIF9ub2RlLnkgPSB5O1xyXG4gICAgICAgICAgICB0aGlzLmRyYXcoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRyYWdDb250cm9sUG9pbnQ6IGZ1bmN0aW9uKHgsIHksIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciBfbm9kZSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWROb2RlO1xyXG4gICAgICAgICAgICAvL1NlbGVjdCBwb2ludFxyXG4gICAgICAgICAgICB2YXIgYSA9IF9ub2RlLmNvbnRyb2xzW2luZGV4XTtcclxuICAgICAgICAgICAgLy9UaGUgb3RoZXIgcG9pbnRcclxuICAgICAgICAgICAgdmFyIGIgPSBfbm9kZS5jb250cm9sc1sxIC0gaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5kcmFnTW9kZSA9PSAzIHx8ICh0aGlzLnN0YXRlLmRyYWdNb2RlID09IDIgJiYgX25vZGUubG9jaykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbmdsZUluaXQgPSBNYXRoLmF0YW4oKGEueSAtIF9ub2RlLnkpIC8gKGEueCAtIF9ub2RlLngpKTtcclxuICAgICAgICAgICAgICAgIHZhciBhbmdsZUEgPSBNYXRoLmF0YW4oKHkgLSBfbm9kZS55KSAvICh4IC0gX25vZGUueCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGEueCA8IF9ub2RlLngpXHJcbiAgICAgICAgICAgICAgICAgICAgYW5nbGVJbml0ICs9IE1hdGguUEk7XHJcbiAgICAgICAgICAgICAgICBpZiAoeCA8IF9ub2RlLngpXHJcbiAgICAgICAgICAgICAgICAgICAgYW5nbGVBICs9IE1hdGguUEk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdGVtcC54ID0gKGIueCAtIF9ub2RlLngpICogTWF0aC5jb3MoYW5nbGVBIC0gYW5nbGVJbml0KSAtIChiLnkgLSBfbm9kZS55KSAqIE1hdGguc2luKGFuZ2xlQSAtIGFuZ2xlSW5pdCkgKyBfbm9kZS54O1xyXG4gICAgICAgICAgICAgICAgdGVtcC55ID0gKGIueCAtIF9ub2RlLngpICogTWF0aC5zaW4oYW5nbGVBIC0gYW5nbGVJbml0KSArIChiLnkgLSBfbm9kZS55KSAqIE1hdGguY29zKGFuZ2xlQSAtIGFuZ2xlSW5pdCkgKyBfbm9kZS55O1xyXG4gICAgICAgICAgICAgICAgX25vZGUuY29udHJvbHNbMSAtIGluZGV4XSA9IHRlbXA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYS54ID0geDtcclxuICAgICAgICAgICAgYS55ID0geTtcclxuICAgICAgICAgICAgdGhpcy5kcmF3KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcmVhdGVDb250cm9sUG9pbnQ6IGZ1bmN0aW9uKHgsIHkpIHtcclxuICAgICAgICAgICAgdmFyIF9ub2RlID0gdGhpcy5zdGF0ZS5jdXJyZW50O1xyXG4gICAgICAgICAgICBfbm9kZS5jb250cm9sc1sxXS54ID0geDtcclxuICAgICAgICAgICAgX25vZGUuY29udHJvbHNbMV0ueSA9IHk7XHJcbiAgICAgICAgICAgIF9ub2RlLmNvbnRyb2xzWzBdLnggPSAyICogX25vZGUueCAtIHg7XHJcbiAgICAgICAgICAgIF9ub2RlLmNvbnRyb2xzWzBdLnkgPSAyICogX25vZGUueSAtIHk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRyYXcoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1vdXNldXA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmRvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuZHJhZ01vZGUgPT0gMSAmJiB0aGlzLnN0YXRlLnNlbGVjdGVkTm9kZSlcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWROb2RlLmxvY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5kcmFnTW9kZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWROb2RlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RUeXBlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5jdXJzb3IoXCJkZWZhdWx0XCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VsZWN0OiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHZhciBfbm9kZXMgPSB0aGlzLm5vZGVzO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF9ub2Rlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHggPSBlLm9mZnNldFg7XHJcbiAgICAgICAgICAgICAgICB2YXIgeSA9IGUub2Zmc2V0WTtcclxuICAgICAgICAgICAgICAgIGlmICh4ID4gX25vZGVzW2ldLnggLSB0aGlzLmhhbGZQb2ludFNpemUgJiYgeCA8IF9ub2Rlc1tpXS54ICsgdGhpcy5oYWxmUG9pbnRTaXplICYmIHkgPiBfbm9kZXNbaV0ueSAtIHRoaXMuaGFsZlBvaW50U2l6ZSAmJiB5IDwgX25vZGVzW2ldLnkgKyB0aGlzLmhhbGZQb2ludFNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnNvcihcImFsbC1zY3JvbGxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZE5vZGUgPSBfbm9kZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RUeXBlID0gJ25vZGUnO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX25vZGVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IGUub2Zmc2V0WDtcclxuICAgICAgICAgICAgICAgIHZhciB5ID0gZS5vZmZzZXRZO1xyXG4gICAgICAgICAgICAgICAgaWYgKHggPiBfbm9kZXNbaV0uY29udHJvbHNbMF0ueCAtIHRoaXMuaGFsZlBvaW50U2l6ZSAmJiB4IDwgX25vZGVzW2ldLmNvbnRyb2xzWzBdLnggKyB0aGlzLmhhbGZQb2ludFNpemUgJiZcclxuICAgICAgICAgICAgICAgICAgICB5ID4gX25vZGVzW2ldLmNvbnRyb2xzWzBdLnkgLSB0aGlzLmhhbGZQb2ludFNpemUgJiYgeSA8IF9ub2Rlc1tpXS5jb250cm9sc1swXS55ICsgdGhpcy5oYWxmUG9pbnRTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IoXCJhbGwtc2Nyb2xsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWROb2RlID0gX25vZGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0VHlwZSA9ICdjb250cm9sMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoeCA+IF9ub2Rlc1tpXS5jb250cm9sc1sxXS54IC0gdGhpcy5oYWxmUG9pbnRTaXplICYmIHggPCBfbm9kZXNbaV0uY29udHJvbHNbMV0ueCArIHRoaXMuaGFsZlBvaW50U2l6ZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHkgPiBfbm9kZXNbaV0uY29udHJvbHNbMV0ueSAtIHRoaXMuaGFsZlBvaW50U2l6ZSAmJiB5IDwgX25vZGVzW2ldLmNvbnRyb2xzWzFdLnkgKyB0aGlzLmhhbGZQb2ludFNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnNvcihcImFsbC1zY3JvbGxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZE5vZGUgPSBfbm9kZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RUeXBlID0gJ2NvbnRyb2wxJztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkTm9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0VHlwZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRyYXc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgU2V0dGluZ3NPYmogPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdTZXR0aW5ncycpKSB8fCB7XHJcbiAgICAgICAgICAgICAgICBtYXBDb2xvcjogXCJyZ2JhKDI1NSwgMjA0LCAxMjgsIDEpXCIsXHJcbiAgICAgICAgICAgICAgICBtYXBTdHJva2VDb2xvcjogXCJyZ2JhKDAsIDAsIDAsIDEpXCIsXHJcbiAgICAgICAgICAgICAgICBtYXBQb2ludHNDb2xvcjogXCJyZ2JhKDAsIDAsIDI1NSwgMSlcIixcclxuICAgICAgICAgICAgICAgIG1hcFBvaW50c0JvcmRlckNvbG9yOiBcInJnYmEoMCwgMCwgMCwgMSlcIixcclxuICAgICAgICAgICAgICAgIG1hcFJvdXRlQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAxKVwiLFxyXG4gICAgICAgICAgICAgICAgYm9keUJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDI0MywgMjI5LCAyNDUsIDEpXCIsXHJcbiAgICAgICAgICAgICAgICByb3V0ZUJvcmRlcldpZHRoOiBcIjRcIixcclxuICAgICAgICAgICAgICAgIHBvaW50c1JhZGl1czogXCI4XCIsXHJcbiAgICAgICAgICAgICAgICBwb2ludHNCb3JkZXJXaWR0aDogXCIxXCJcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIF9jdHggPSB0aGlzLmN0eDtcclxuICAgICAgICAgICAgX2N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIF9jdHguc2F2ZSgpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJhY2tncm91bmRJbWFnZSlcclxuICAgICAgICAgICAgICAgIF9jdHguZHJhd0ltYWdlKHRoaXMuYmFja2dyb3VuZEltYWdlLCAwLCAwKTtcclxuICAgICAgICAgICAgX2N0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgIF9jdHguc3Ryb2tlU3R5bGUgPSBcInRyYW5zcGFyZW50XCI7XHJcbiAgICAgICAgICAgIF9jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIF9jdHgubW92ZVRvKDAsIDApO1xyXG4gICAgICAgICAgICBfY3R4LmxpbmVUbyg2NDAsIDApO1xyXG4gICAgICAgICAgICBfY3R4LmxpbmVUbyg2NDAsIDQ4MCk7XHJcbiAgICAgICAgICAgIF9jdHgubGluZVRvKDAsIDQ4MCk7XHJcbiAgICAgICAgICAgIF9jdHgubGluZVRvKDAsIDApO1xyXG4gICAgICAgICAgICBfY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICBfY3R4LnN0cm9rZVN0eWxlID0gXCIjMDBGRjAwXCI7XHJcbiAgICAgICAgICAgIHZhciBub2RlcyA9IHRoaXMubm9kZXM7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgIF9jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICBfY3R4Lm1vdmVUbyh0aGlzLnN0YXRlLmN1cnJlbnQueCwgdGhpcy5zdGF0ZS5jdXJyZW50LnkpO1xyXG4gICAgICAgICAgICAgICAgX2N0eC5saW5lVG8odGhpcy5zdGF0ZS5jdXJyZW50LmNvbnRyb2xzWzBdLngsIHRoaXMuc3RhdGUuY3VycmVudC5jb250cm9sc1swXS55KTtcclxuICAgICAgICAgICAgICAgIF9jdHgubW92ZVRvKHRoaXMuc3RhdGUuY3VycmVudC54LCB0aGlzLnN0YXRlLmN1cnJlbnQueSk7XHJcbiAgICAgICAgICAgICAgICBfY3R4LmxpbmVUbyh0aGlzLnN0YXRlLmN1cnJlbnQuY29udHJvbHNbMV0ueCwgdGhpcy5zdGF0ZS5jdXJyZW50LmNvbnRyb2xzWzFdLnkpO1xyXG4gICAgICAgICAgICAgICAgX2N0eC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgIF9jdHguZmlsbFN0eWxlID0gXCIjRkZGRjAwXCI7XHJcbiAgICAgICAgICAgICAgICBfY3R4LmZpbGxSZWN0KHRoaXMuc3RhdGUuY3VycmVudC5jb250cm9sc1swXS54IC0gdGhpcy5oYWxmUG9pbnRTaXplLCB0aGlzLnN0YXRlLmN1cnJlbnQuY29udHJvbHNbMF0ueSAtIHRoaXMuaGFsZlBvaW50U2l6ZSwgdGhpcy5wb2ludFNpemUsIHRoaXMucG9pbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIF9jdHguZmlsbFJlY3QodGhpcy5zdGF0ZS5jdXJyZW50LmNvbnRyb2xzWzFdLnggLSB0aGlzLmhhbGZQb2ludFNpemUsIHRoaXMuc3RhdGUuY3VycmVudC5jb250cm9sc1sxXS55IC0gdGhpcy5oYWxmUG9pbnRTaXplLCB0aGlzLnBvaW50U2l6ZSwgdGhpcy5wb2ludFNpemUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF9jdHguc2F2ZSgpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIF9jdHguZmlsbFN0eWxlID0gXCIjRkZGRjAwXCI7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIF9jdHguZmlsbFJlY3Qobm9kZXNbaV0ueCAtIHRoaXMuaGFsZlBvaW50U2l6ZSwgbm9kZXNbaV0ueSAtIHRoaXMuaGFsZlBvaW50U2l6ZSwgdGhpcy5wb2ludFNpemUsIHRoaXMucG9pbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWROb2RlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIF9jdHguZmlsbFN0eWxlID0gXCIjMDAwXCI7XHJcbiAgICAgICAgICAgICAgICBfY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgX2N0eC5hcmModGhpcy5zdGF0ZS5zZWxlY3RlZE5vZGUuY29udHJvbHNbMF0ueCwgdGhpcy5zdGF0ZS5zZWxlY3RlZE5vZGUuY29udHJvbHNbMF0ueSwgdGhpcy5oYWxmUG9pbnRTaXplLCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBfY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgX2N0eC5maWxsKCk7XHJcbiAgICAgICAgICAgICAgICBfY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgX2N0eC5hcmModGhpcy5zdGF0ZS5zZWxlY3RlZE5vZGUuY29udHJvbHNbMV0ueCwgdGhpcy5zdGF0ZS5zZWxlY3RlZE5vZGUuY29udHJvbHNbMV0ueSwgdGhpcy5oYWxmUG9pbnRTaXplLCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBfY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgX2N0eC5maWxsKCk7XHJcbiAgICAgICAgICAgICAgICBfY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgX2N0eC5maWxsUmVjdCh0aGlzLnN0YXRlLnNlbGVjdGVkTm9kZS54IC0gdGhpcy5oYWxmUG9pbnRTaXplLCB0aGlzLnN0YXRlLnNlbGVjdGVkTm9kZS55IC0gdGhpcy5oYWxmUG9pbnRTaXplLCB0aGlzLnBvaW50U2l6ZSwgdGhpcy5wb2ludFNpemUpO1xyXG4gICAgICAgICAgICAgICAgX2N0eC5tb3ZlVG8odGhpcy5zdGF0ZS5zZWxlY3RlZE5vZGUueCwgdGhpcy5zdGF0ZS5zZWxlY3RlZE5vZGUueSk7XHJcbiAgICAgICAgICAgICAgICBfY3R4LmxpbmVUbyh0aGlzLnN0YXRlLnNlbGVjdGVkTm9kZS5jb250cm9sc1swXS54LCB0aGlzLnN0YXRlLnNlbGVjdGVkTm9kZS5jb250cm9sc1swXS55KTtcclxuICAgICAgICAgICAgICAgIF9jdHgubW92ZVRvKHRoaXMuc3RhdGUuc2VsZWN0ZWROb2RlLngsIHRoaXMuc3RhdGUuc2VsZWN0ZWROb2RlLnkpO1xyXG4gICAgICAgICAgICAgICAgX2N0eC5saW5lVG8odGhpcy5zdGF0ZS5zZWxlY3RlZE5vZGUuY29udHJvbHNbMV0ueCwgdGhpcy5zdGF0ZS5zZWxlY3RlZE5vZGUuY29udHJvbHNbMV0ueSk7XHJcbiAgICAgICAgICAgICAgICBfY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF9jdHguc3Ryb2tlU3R5bGUgPSBTZXR0aW5nc09iai5tYXBSb3V0ZUNvbG9yO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5vZGVzLmxlbmd0aCA+IDEpXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aCAtIDE7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2N0eC5tb3ZlVG8obm9kZXNbaV0ueCwgbm9kZXNbaV0ueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2N0eC5iZXppZXJDdXJ2ZVRvKG5vZGVzW2ldLmNvbnRyb2xzWzFdLngsIG5vZGVzW2ldLmNvbnRyb2xzWzFdLnksIG5vZGVzW2kgKyAxXS5jb250cm9sc1swXS54LCBub2Rlc1tpICsgMV0uY29udHJvbHNbMF0ueSwgbm9kZXNbaSArIDFdLngsIG5vZGVzW2kgKyAxXS55KTtcclxuICAgICAgICAgICAgICAgICAgICBfY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfY3R4LnN0cm9rZVN0eWxlID0gU2V0dGluZ3NPYmoubWFwUm91dGVDb2xvcjtcclxuICAgICAgICAgICAgLy8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aCAtIDE7ICsraSkge1xyXG4gICAgICAgICAgICAvLyB2YXIgbjEgPSB0aGlzLm5vZGVzW2ldO1xyXG4gICAgICAgICAgICAvLyB2YXIgbjIgPSB0aGlzLm5vZGVzW2kgKyAxXTtcclxuICAgICAgICAgICAgLy8gdmFyIHAxID0gW24xLngsIG4xLnldO1xyXG4gICAgICAgICAgICAvLyB2YXIgcDIgPSBbbjEuY29udHJvbHNbMV0ueCwgbjEuY29udHJvbHNbMV0ueV07XHJcbiAgICAgICAgICAgIC8vIHZhciBwMyA9IFtuMi5jb250cm9sc1swXS54LCBuMi5jb250cm9sc1swXS55XTtcclxuICAgICAgICAgICAgLy8gdmFyIHA0ID0gW24yLngsIG4yLnldO1xyXG4gICAgICAgICAgICB2YXIgU2F2ZWRNYXBMaW5lcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1NhdmVkQ3VydmVzJykpO1xyXG4gICAgICAgICAgICBpZiAoU2F2ZWRNYXBMaW5lcykge1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgU2F2ZWRNYXBMaW5lcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2N0eC5tb3ZlVG8oU2F2ZWRNYXBMaW5lc1tpXS5wMVswXSwgU2F2ZWRNYXBMaW5lc1tpXS5wMVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2N0eC5iZXppZXJDdXJ2ZVRvKFNhdmVkTWFwTGluZXNbaV0ucDJbMF0sIFNhdmVkTWFwTGluZXNbaV0ucDJbMV0sIFNhdmVkTWFwTGluZXNbaV0ucDNbMF0sIFNhdmVkTWFwTGluZXNbaV0ucDNbMV0sIFNhdmVkTWFwTGluZXNbaV0ucDRbMF0sIFNhdmVkTWFwTGluZXNbaV0ucDRbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfY3R4LnN0cm9rZVN0eWxlID0gU2V0dGluZ3NPYmoubWFwUm91dGVDb2xvcjtcclxuXHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBzYXZlZE1hcENvb3JkcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NpcmNsZXNDb29yZHMnKSkgfHwgW107XHJcbiAgICAgICAgICAgIHZhciBkZWxldGVNYXBDb29yZHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkZWxldGVDaXJjbGVzJykpIHx8IFtdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNhdmVkTWFwQ29vcmRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2F2ZWRNYXBDb29yZHMubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkZWxldGVNYXBDb29yZHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKE1hdGgucm91bmQoc2F2ZWRNYXBDb29yZHNbaV0uY3ggLSBkZWxldGVNYXBDb29yZHNbal0uY3gpKSA8PSA4ICYmIE1hdGguYWJzKE1hdGgucm91bmQoc2F2ZWRNYXBDb29yZHNbaV0uY3kgLSBkZWxldGVNYXBDb29yZHNbal0uY3kpKSA8PSA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlZE1hcENvb3Jkcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNhdmVkTWFwQ29vcmRzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVsZXRlTWFwQ29vcmRzLmxlbmd0aCA9IG51bGw7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkZWxldGVDaXJjbGVzJywgSlNPTi5zdHJpbmdpZnkoZGVsZXRlTWFwQ29vcmRzKSk7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjaXJjbGVzQ29vcmRzJywgSlNPTi5zdHJpbmdpZnkoc2F2ZWRNYXBDb29yZHMpKTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2F2ZWRNYXBDb29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChzYXZlZE1hcENvb3Jkcykge1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2N0eC5maWxsU3R5bGUgPSBTZXR0aW5nc09iai5tYXBQb2ludHNDb2xvcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX2N0eC5hcmMoc2F2ZWRNYXBDb29yZHNbaV0uY3gsIHNhdmVkTWFwQ29vcmRzW2ldLmN5LCBTZXR0aW5nc09iai5wb2ludHNSYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX2N0eC5maWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2N0eC5zdHJva2VTdHlsZSA9IFNldHRpbmdzT2JqLm1hcFBvaW50c0JvcmRlckNvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdHguc3Ryb2tlKCk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldExlbmd0aDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2VmZmljaWVudCA9IGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZjE6IHQgKiB0ICogdCxcclxuICAgICAgICAgICAgICAgICAgICBmMjogMyAqIHQgKiB0ICogKDEgLSB0KSxcclxuICAgICAgICAgICAgICAgICAgICBmMzogMyAqIHQgKiAoMSAtIHQpICogKDEgLSB0KSxcclxuICAgICAgICAgICAgICAgICAgICBmNDogKDEgLSB0KSAqICgxIC0gdCkgKiAoMSAtIHQpLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCgoYVswXSAtIGJbMF0pICogKGFbMF0gLSBiWzBdKSArIChhWzFdIC0gYlsxXSkgKiAoYVsxXSAtIGJbMV0pKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIHRvdGFsID0gMDtcclxuICAgICAgICAgICAgdmFyIGxlbmd0aHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aCAtIDE7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG4xID0gdGhpcy5ub2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBuMiA9IHRoaXMubm9kZXNbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAxID0gW24xLngsIG4xLnldO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAyID0gW24xLmNvbnRyb2xzWzFdLngsIG4xLmNvbnRyb2xzWzFdLnldO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAzID0gW24yLmNvbnRyb2xzWzBdLngsIG4yLmNvbnRyb2xzWzBdLnldO1xyXG4gICAgICAgICAgICAgICAgdmFyIHA0ID0gW24yLngsIG4yLnldO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RQb2ludCA9IFtuMS54LCBuMS55XTtcclxuICAgICAgICAgICAgICAgIHZhciB0b3RhbExlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDE7IGogKz0gMC4wMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gY29lZmZpY2llbnQoaik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50ID0gWzAsIDBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50WzBdID0gcDFbMF0gKiBjLmYxICsgcDJbMF0gKiBjLmYyICsgcDNbMF0gKiBjLmYzICsgcDRbMF0gKiBjLmY0O1xyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50WzFdID0gcDFbMV0gKiBjLmYxICsgcDJbMV0gKiBjLmYyICsgcDNbMV0gKiBjLmYzICsgcDRbMV0gKiBjLmY0O1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsTGVuZ3RoICs9IGxlbmd0aChsYXN0UG9pbnQsIHBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0UG9pbnQgPSBwb2ludDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxlbmd0aHMucHVzaCh0b3RhbExlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB0b3RhbCArPSB0b3RhbExlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ub2Rlcy5sZW5ndGggLSAxOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxlbmd0aHNbaV0gLyB0b3RhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGV4cG9ydEJlemllcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBBcnJMaW5lcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0cmluZyA9IFwiTVwiO1xyXG4gICAgICAgICAgICB2YXIgU2F2ZWRMaW5lcyA9ICcnO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5nZXRMZW5ndGgoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aCAtIDE7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG4xID0gdGhpcy5ub2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBuMiA9IHRoaXMubm9kZXNbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAxID0gW24xLngsIG4xLnldO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAyID0gW24xLmNvbnRyb2xzWzFdLngsIG4xLmNvbnRyb2xzWzFdLnldO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAzID0gW24yLmNvbnRyb2xzWzBdLngsIG4yLmNvbnRyb2xzWzBdLnldO1xyXG4gICAgICAgICAgICAgICAgdmFyIHA0ID0gW24yLngsIG4yLnldO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBMaW5lT2JqID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgTGluZU9iai5wMSA9IHAxO1xyXG4gICAgICAgICAgICAgICAgTGluZU9iai5wMiA9IHAyO1xyXG4gICAgICAgICAgICAgICAgTGluZU9iai5wMyA9IHAzO1xyXG4gICAgICAgICAgICAgICAgTGluZU9iai5wNCA9IHA0O1xyXG4gICAgICAgICAgICAgICAgQXJyTGluZXMucHVzaChMaW5lT2JqKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgc3RyaW5nICs9ICcgJyArIHAxWzBdICsgJywgJyArIHAxWzFdICsgJyBDJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJyAnICsgcDJbMF0gKyAnLCAnICsgcDJbMV0gKyAnLCAnICtcclxuICAgICAgICAgICAgICAgICAgICArcDNbMF0gKyAnLCAnICsgcDNbMV0gKyAnLCAnICtcclxuICAgICAgICAgICAgICAgICAgICAnJyArIHA0WzBdICsgJywgJyArIHA0WzFdICsgJyBUJztcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBSZXR1cm5TYXZlZFBhdGg6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgQXJyTGluZXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdTYXZlZEN1cnZlcycpKSB8fCBbXTtcclxuICAgICAgICAgICAgdmFyIFNhdmVkTGluZXMgPSBcIlwiO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5nZXRMZW5ndGgoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aCAtIDE7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG4xID0gdGhpcy5ub2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBuMiA9IHRoaXMubm9kZXNbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAxID0gW24xLngsIG4xLnldO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAyID0gW24xLmNvbnRyb2xzWzFdLngsIG4xLmNvbnRyb2xzWzFdLnldO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAzID0gW24yLmNvbnRyb2xzWzBdLngsIG4yLmNvbnRyb2xzWzBdLnldO1xyXG4gICAgICAgICAgICAgICAgdmFyIHA0ID0gW24yLngsIG4yLnldO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBMaW5lT2JqID0ge307XHJcbiAgICAgICAgICAgICAgICBMaW5lT2JqLnAxID0gcDE7XHJcbiAgICAgICAgICAgICAgICBMaW5lT2JqLnAyID0gcDI7XHJcbiAgICAgICAgICAgICAgICBMaW5lT2JqLnAzID0gcDM7XHJcbiAgICAgICAgICAgICAgICBMaW5lT2JqLnA0ID0gcDQ7XHJcbiAgICAgICAgICAgICAgICBBcnJMaW5lcy5wdXNoKExpbmVPYmopO1xyXG4gICAgICAgICAgICAgICAgU2F2ZWRMaW5lcyArPSAnICcgKyBwMVswXSArICcsICcgKyBwMVsxXSArICcgQycgK1xyXG4gICAgICAgICAgICAgICAgICAgICcgJyArIHAyWzBdICsgJywgJyArIHAyWzFdICsgJywgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgK3AzWzBdICsgJywgJyArIHAzWzFdICsgJywgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJycgKyBwNFswXSArICcsICcgKyBwNFsxXSArICcgVCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ1NhdmVkU3ZnUGF0aCcsIEpTT04uc3RyaW5naWZ5KFNhdmVkTGluZXMpKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBBcnJMaW5lcztcclxuICAgICAgICB9LFxyXG5cclxuXHJcbiAgICAgICAgY2xlYXJCZXppZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgX2N0eCA9IHRoaXMuY3R4O1xyXG4gICAgICAgICAgICBlZGl0b3Iubm9kZXMgPSBbXTtcclxuICAgICAgICAgICAgX2N0eC5jbGVhclJlY3QoMCwgMCwgZWRpdG9yLndpZHRoLCBlZGl0b3IuaGVpZ2h0KVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhfY3R4KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZWRpdG9yKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBlZGl0b3I7XHJcblxyXG5cclxuICAgICAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgfTtcclxuICAgIGVkaXRvci5pbml0KGlkKTtcclxuICAgIHJldHVybiBlZGl0b3I7XHJcblxyXG59Il19
