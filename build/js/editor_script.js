$(document).ready(function(){function t(t){var e=JSON.parse(localStorage.getItem("Settings"))||{mapColor:"rgba(255, 204, 128, 1)",mapStrokeColor:"rgba(0, 0, 0, 1)",mapPointsColor:"rgba(0, 0, 255, 1)",mapPointsBorderColor:"rgba(0, 0, 0, 1)",mapRouteColor:"rgba(0, 0, 0, 1)",bodyBackgroundColor:"rgba(243, 229, 245, 1)",routeBorderWidth:"4",routeType:"line",routeShadow:"false",pointsRadius:"8",pointsBorderWidth:"1",contentWidth:"50",contentAlign:"flex-start",checkboxState:"false",defaultOption:"false",UserOption:"false",StartIcon:"",RouteStartIconColor:"rgba(0, 0, 0, 1)",RouteStartIconSize:"10"};if(e[t])return e[t]}function e(e){e.addEventListener("load",function(){function o(t){t.addEventListener("load",function(){for(var e=t.contentDocument.documentElement,o=e.getElementsByTagName("path"),a=new XMLSerializer,r=document.getElementById("iconTest"),i=[],l=0;l<o.length;l++){o[l].style.fill=n.RouteStartIconColor;var s=a.serializeToString(o[l]);console.log(s),i.push(s)}console.log(i),localStorage.setItem("StartRouteIcon",JSON.stringify(i)),$("input[name=RouteStartIconColor]").change(function(t){$("option:selected",this);var e=this.value,a=this.name;n[a]=e;for(var r=0;r<o.length;r++)o[r].style.fill=n.RouteStartIconColor;localStorage.setItem("Settings",JSON.stringify(n))}),$("input[name = RouteStartIconSize]").change(function(){$("option:selected",this);var t=this.value,o=this.name;n[o]=t,$("#iconTest").attr({width:n.RouteStartIconSize,height:n.RouteStartIconSize}),e.setAttribute("width",$(r).attr("width")),e.setAttribute("height",$(r).attr("height")),console.log(e),console.log(n)})})}var a=e.contentDocument;console.log(a);var r=a.documentElement.getElementById("mapPaths").getElementsByTagName("path"),n=JSON.parse(localStorage.getItem("Settings"))||{mapColor:"rgba(255, 204, 128, 1)",mapStrokeColor:"rgba(0, 0, 0, 1)",mapPointsColor:"rgba(0, 0, 255, 1)",mapPointsBorderColor:"rgba(0, 0, 0, 1)",mapRouteColor:"rgba(0, 0, 0, 1)",bodyBackgroundColor:"rgba(243, 229, 245, 1)",routeBorderWidth:"4",routeType:"line",routeShadow:"false",pointsRadius:"8",pointsBorderWidth:"1",contentWidth:"50",contentAlign:"flex-start",checkboxState:"false",defaultOption:"false",UserOption:"false",StartIcon:"",RouteStartIconColor:"rgba(0, 0, 0, 1)",RouteStartIconSize:"2"},i=JSON.parse(localStorage.getItem("mapStyleProperties"))||{transform:""},l=1,s=0,c=0;if(""!=i.transform.length){transformString=i.transform;var d=transformString.match(/[+-]?\d+(\.\d+)?/g).map(function(t){return parseFloat(t)});console.log(d),l=d[0],s=d[1],c=d[2],console.log(l,s,c),$("#map_bg").css("transform","scale("+l+") translate("+s+"px,"+c+"px)")}var p={zoom:0,e:0,f:0};console.log(i),$("#plus").bind("click",function(){l+=.1,$("#map_bg").css("transform","scale("+l+") translate("+s+"px,"+c+"px)"),i.transform="scale("+l+") translate("+s+"    "+c+")",localStorage.setItem("mapStyleProperties",JSON.stringify(i)),localStorage.setItem("SreenCTM",JSON.stringify(p)),localStorage.setItem("zoom",JSON.stringify(l))}),$("#minus").bind("click",function(){(l-=.3)<1.1&&(l=1),$("#map_bg").css("transform","scale("+l+") translate("+s+"px,"+c+"px)"),i.transform="scale("+l+") translate("+s+" "+c+")",localStorage.setItem("zoom",JSON.stringify(l)),localStorage.setItem("SreenCTM",JSON.stringify(p)),localStorage.setItem("mapStyleProperties",JSON.stringify(i))}),$("#moveLeft").bind("click",function(){s+=10,$("#map_bg").css("transform","scale("+l+") translate("+s+"px,"+c+"px)"),i.transform="scale("+l+") translate("+s+" "+c+")",localStorage.setItem("SreenCTM",JSON.stringify(p)),localStorage.setItem("mapStyleProperties",JSON.stringify(i))}),$("#moveRight").bind("click",function(){s-=10,$("#map_bg").css("transform","scale("+l+") translate("+s+"px,"+c+"px)"),i.transform="scale("+l+") translate("+s+" "+c+")",localStorage.setItem("SreenCTM",JSON.stringify(p)),localStorage.setItem("mapStyleProperties",JSON.stringify(i))}),$("#moveTop").bind("click",function(){c+=10,$("#map_bg").css("transform","scale("+l+") translate("+s+"px,"+c+"px)"),i.transform="scale("+l+") translate("+s+" "+c+")",localStorage.setItem("SreenCTM",JSON.stringify(p)),localStorage.setItem("mapStyleProperties",JSON.stringify(i))}),$("#moveBottom").bind("click",function(){c-=10,$("#map_bg").css("transform","scale("+l+") translate("+s+"px,"+c+"px)"),i.transform="scale("+l+") translate("+s+" "+c+")",localStorage.setItem("SreenCTM",JSON.stringify(p)),localStorage.setItem("mapStyleProperties",JSON.stringify(i))});var g=document.getElementById("mapColorPicker"),m=document.getElementById("mapStrokeColorPicker"),u=document.getElementById("mapPointsColorPicker"),h=document.getElementById("mapPointsBorderColorPicker"),S=document.getElementById("mapRouteColorPicker"),f=document.getElementById("bodyColorPicker"),v=$(".colorPicker");$("#color_change");g.style.display="block",m.style.display="block",u.style.display="block",h.style.display="block",S.style.display="block",f.style.display="block",g.value=t("mapColor"),m.value=t("mapStrokeColor"),u.value=t("mapPointsColor"),h.value=t("mapPointsBorderColor"),S.value=t("mapRouteColor"),f.value=t("bodyBackgroundColor"),$("#PathStartIconColor").val(t("RouteStartIconColor")),$("#test6").value=2*t("pointsRadius");for(var b=0;b<r.length;b++)r[b].style.fill=t("mapColor"),r[b].style.stroke=t("mapStrokeColor");$("#circle_example").css({width:2*t("pointsRadius"),height:2*t("pointsRadius"),"background-color":t("mapPointsColor"),border:t("pointsBorderWidth")+"solid"+t("mapPointsBorderColor")}),$(".routeExample").css({height:t("routeBorderWidth"),"background-color":t("mapRouteColor")}),$("#iconTest").attr({width:t("RouteStartIconSize"),height:t("RouteStartIconSize")});var y=$("input[type=range]"),k=$("input[name=routeStartCheckbox]"),I=document.getElementById("mapSettings"),C=JSON.parse(localStorage.getItem("map"));if($("#mapSettings").attr("data",C),I.addEventListener("load",function(){var e=I.contentDocument.documentElement.getElementsByTagName("path");$(".map_settings_block").css("background-color",t("bodyBackgroundColor"));for(var o=0;o<e.length;o++)e[o].style.fill=t("mapColor"),e[o].style.stroke=t("mapStrokeColor");$(y).change(function(t){$("option:selected",this);var e=this.value,o=this.name;n[o]=e;for(var a=JSON.parse(localStorage.getItem("circlesCoords")),r=0;r<a.length;r++)a[r].r=n.pointsRadius;$("#circle_example").css({width:2*n.pointsRadius,height:2*n.pointsRadius,border:n.pointsBorderWidth+"px solid "+n.mapPointsBorderColor}),$(".routeExample").css("height",n.routeBorderWidth),$(".content_block").css("width",n.contentWidth+"%"),localStorage.setItem("circlesCoords",JSON.stringify(a)),localStorage.setItem("Settings",JSON.stringify(n))}),$("input[name = contentAlign]").on("click",function(){$(this).prop("checked",!0)[0].id;console.log($(this).val()),$(".test_block").css("justify-content",$(this).val()),n.contentAlign=$(this).val(),localStorage.setItem("Settings",JSON.stringify(n))}),"line"==t("routeType")&&$("input[value=line]").attr("checked",!0),"dashed"==t("routeType")&&($("input[value=dashed]").attr("checked",!0),$(".routeExample").css({height:"","background-color":"transparent","border-bottom":t("routeBorderWidth")+"px dashed "+t("mapRouteColor")}),console.log(t("routeBorderWidth")+"px dashed "+t("mapRouteColor"))),"dotted"==t("routeType")&&($("input[value=dotted]").attr("checked",!0),$(".routeExample").css({height:"","background-color":"transparent","border-bottom":t("routeBorderWidth")+"px dotted "+t("mapRouteColor")})),$("input[name = routeType]").on("click",function(){$(this).prop("checked",!0)[0].id;console.log($(this).val()),console.log($(this).val()),n.routeType=$(this).val(),"line"==$(this).val()&&$(".routeExample").css({height:t("routeBorderWidth"),"border-bottom":"0px","background-color":t("mapRouteColor")}),"dashed"==$(this).val()&&($(".routeExample").css({height:"1px","border-bottom":t("routeBorderWidth")+"px dashed "+t("mapRouteColor"),"background-color":"transparent"}),console.log(t("routeBorderWidth")+"px dashed "+t("mapRouteColor"))),"dotted"==$(this).val()&&$(".routeExample").css({height:"1px","border-bottom":t("routeBorderWidth")+"px dotted "+t("mapRouteColor"),"background-color":"transparent"}),localStorage.setItem("Settings",JSON.stringify(n))}),$("input[name=routeShadow]").attr("checked",JSON.parse(t("routeShadow"))),$("input[name=routeShadow]").on("click",function(){this.checked?(console.log("kek"),n.routeShadow="true",localStorage.setItem("Settings",JSON.stringify(n))):(console.log("jopa"),n.routeShadow="false",localStorage.setItem("Settings",JSON.stringify(n)))}),$(v).minicolors({opacity:!0,format:"rgb",rgbaString:!1,change:function(t,e){var o="rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")";console.log(o)},swatches:["rgba(154, 9, 173, 1)","rgba(240, 17, 17, 1)","rgba(0, 255, 21, 1)","rgba(15, 43, 255, 1)","rgba(255, 239, 13, 1)"],showSpeed:100}),$(v).minicolors("rgbaString"),$(v).change(function(t){$("option:selected",this);var o=this.value,a=this.name;n[a]=o;for(var i=0;i<r.length;i++)r[i].style.fill=n.mapColor,r[i].style.stroke=n.mapStrokeColor;for(var l=0;l<e.length;l++)e[l].style.fill=n.mapColor,e[l].style.stroke=n.mapStrokeColor;$(".map_settings_block").css("background-color",n.bodyBackgroundColor),$("#circle_example").css({border:n.pointsBorderWidth+"px solid "+n.mapPointsBorderColor,"background-color":n.mapPointsColor}),$(".routeExample").css("background-color",n.mapRouteColor),$(".wrap_map").css("background-color",n.bodyBackgroundColor),localStorage.setItem("Settings",JSON.stringify(n))})}),$(k).attr("checked",JSON.parse(t("checkboxState"))),$("#defaultOption").attr("checked",JSON.parse(t("defaultOption"))),$("#UserOption").attr("checked",JSON.parse(t("UserOption"))),$(k).is(":checked"))if($(".centered_form").show().css("display","flex"),$("#UserOption").is(":checked")){$(".additional_settings").show();var O=""+t("StartIcon"),N=document.getElementById("iconTest");O.length>0?($("#iconTest").attr("data",O),o(N)):$("#iconTest").attr("data","")}else $("#defaultOption").is(":checked")&&$(".additional_settings").hide();else $(".additional_settings").hide(),$(".centered_form").hide();$(k).on("click",function(){this.checked?(n.checkboxState="true",localStorage.setItem("Settings",JSON.stringify(n)),console.log(n),$(".centered_form").show().css("display","flex")):($(".centered_form").hide(),n.checkboxState="false",$(".additional_settings").hide(),localStorage.setItem("Settings",JSON.stringify(n)))}),$("#UserOption").on("click",function(){n.UserOption="true",n.defaultOption="false",localStorage.setItem("Settings",JSON.stringify(n)),$(".additional_settings").show();var e=document.getElementById("iconTest");$("#iconTest").attr("data",t("StartIcon")),o(e)}),$("#defaultOption").on("click",function(){n.UserOption="false",n.defaultOption="true",n.StartIcon="",localStorage.setItem("StartRouteIcon",JSON.stringify([])),localStorage.setItem("Settings",JSON.stringify(n)),$(".additional_settings").hide()}),$(".icon_gallery__item").on("click",function(){var t=$(this).attr("src");console.log(t);var e=document.getElementById("iconTest");$("#iconTest").attr("data",t),o(e),n.StartIcon=t,localStorage.setItem("Settings",JSON.stringify(n))})})}(o=new bezierEditor("bezier-canvas")).draw(),$("#clear").bind("click",function(){console.log(o.clearBezier()),$("#dataMap").attr("data",""),localStorage.clear(),o.draw(),window.location.reload()}),$("#redraw").bind("click",function(){o.draw(),Materialize.toast("Editor redrawn!",2e3)}),$("#screen").bind("click",function(){goFullScreen(),o.draw()}),$("#export").bind("click",function(){o.draw();if((JSON.parse(localStorage.getItem("map"))||"").length>0){var t=o.ReturnSavedPath();localStorage.setItem("SavedCurves",JSON.stringify(t));var e=JSON.parse(localStorage.getItem("path"));if(e){var a=o.exportBezier();e+=a=a.slice(1),localStorage.setItem("path",JSON.stringify(e)),console.log(a),console.log(e)}else{var r=o.exportBezier();localStorage.setItem("path",JSON.stringify(r))}window.location="drawnMap.html"}else Materialize.toast("Editor is clear! 2nd step is restricted!",2e3)});var o=new bezierEditor("bezier-canvas");$(".img_item").bind("click",function(){var t=$(this).attr("src"),o=document.getElementById("dataMap");$("#dataMap").attr("data",t),e(o),localStorage.setItem("map",JSON.stringify(t)),Materialize.toast("Map is selected!",2e3),$(".button-collapse").sideNav("hide"),$(".main-menu").animate({width:0},100),$(".slide_btn.active").removeClass("active")}),o.draw(),console.log(JSON.parse(localStorage.getItem("Settings")));var a=JSON.parse(localStorage.getItem("map"))||[];if(a){var r=document.getElementById("dataMap");$("#dataMap").attr("data",a),e(r);var n=JSON.parse(localStorage.getItem("mapStyleProperties"))||[];document.getElementById("mapbg");n&&$.each(n,function(t,e){$("#map_bg").css(t,e)})}}),$(document).ready(function(){$(".dropdown-button").dropdown({inDuration:300,outDuration:225,constrainWidth:!1,hover:!0,gutter:0,belowOrigin:!0,alignment:"left",stopPropagation:!1}),$(".chips").material_chip(),$(".chips-autocomplete").material_chip({autocompleteOptions:{data:{Apple:null,Microsoft:null,Google:null,Travel:null,Vacation:null,"Storytelling map":null,kek:null},limit:1/0,minLength:1}}),Materialize.updateTextFields(),$("#menu").on("click",function(){$(this).hasClass(".active")?($(this).removeClass("active"),$(".tap-target").tapTarget("close")):($(this).addClass("active"),$(".tap-target").tapTarget("open"))}),$(".slide_btn").on("click",function(){if($(this).hasClass("active"))$(this).removeClass("active"),$(".main-menu").animate({width:"0px",overflow:"hidden"},100);else{var t=$(this).attr("data-execute");console.log(t),$(".slide_btn").removeClass("active"),$(".setting_option").hide(),$(this).addClass("active"),$("#"+t).show(),function(t){var e=JSON.parse(localStorage.getItem("ProjectInfo"))||{projectName:"",projectDescription:"",tags:[]},o=e.tags||[];$(".chips").on("chip.add",function(t,e){var a=JSON.parse(localStorage.getItem("ProjectInfo"))||{},r=o.length+1;e.id=r,o.push(e),a.tags=o,localStorage.setItem("ProjectInfo",JSON.stringify(a)),console.log(o,r)}),$(".chips").on("chip.delete",function(t,e){var o=JSON.parse(localStorage.getItem("ProjectInfo"))||{},a=$(".chips-autocomplete").material_chip("data");o.tags=a,console.log(a),localStorage.setItem("ProjectInfo",JSON.stringify(o))}),"choose_map"==t?$(".main-menu").animate({width:"1250px",overflow:"visible"},100):"colorize"==t?$(".main-menu").animate({width:"800px",overflow:"visible"},100):"project"==t?($(".main-menu").animate({width:"800px",overflow:"visible"},100),e&&($("#projectName").val(e.projectName),$("#projectDescription").val(e.projectDescription),$(".chips-autocomplete").material_chip({data:e.tags})),$("#saveProjectBtn").on("click",function(){console.log("kek");var t=JSON.parse(localStorage.getItem("ProjectInfo")),e=$("#projectName").val(),o=$("#projectDescription").val();e.length>0?(t.projectName=e,t.projectDescription=o,t.tags=$(".chips-autocomplete").material_chip("data")):(t.projectName="",t.projectDescription="",t.tags=[]),console.log(t),localStorage.setItem("ProjectInfo",JSON.stringify(t)),$(".slide_btn.active").removeClass("active"),$(".main-menu").animate({width:0},100)})):"displacement"==t?$(".main-menu").animate({width:"100px",overflow:"visible"},100):"pen"==t?(Materialize.toast("Draw path and points!",3e3),$(".main-menu").animate({width:"0px",overflow:"hidden"},100)):"info"==t?$(".main-menu").animate({width:"500px",overflow:"visible"},100):"step"==t&&$(".main-menu").animate({width:"70px",overflow:"visible"},100),Materialize.updateTextFields()}(t)}});var t=new Date;$("#current_year").text(function(t){var e=t.getFullYear();return e<10&&(e="0"+e),e}(t))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXRvcl9zY3JpcHQuanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJnZXRTZXR0aW5nRnJvbVN0b3JhZ2UiLCJzZXR0aW5nIiwiU2V0dGluZ3NPYmplY3QiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibWFwQ29sb3IiLCJtYXBTdHJva2VDb2xvciIsIm1hcFBvaW50c0NvbG9yIiwibWFwUG9pbnRzQm9yZGVyQ29sb3IiLCJtYXBSb3V0ZUNvbG9yIiwiYm9keUJhY2tncm91bmRDb2xvciIsInJvdXRlQm9yZGVyV2lkdGgiLCJyb3V0ZVR5cGUiLCJyb3V0ZVNoYWRvdyIsInBvaW50c1JhZGl1cyIsInBvaW50c0JvcmRlcldpZHRoIiwiY29udGVudFdpZHRoIiwiY29udGVudEFsaWduIiwiY2hlY2tib3hTdGF0ZSIsImRlZmF1bHRPcHRpb24iLCJVc2VyT3B0aW9uIiwiU3RhcnRJY29uIiwiUm91dGVTdGFydEljb25Db2xvciIsIlJvdXRlU3RhcnRJY29uU2l6ZSIsImxvYWRNYXAiLCJtYXBfY29udGFpbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxvYWRJY29uIiwiaWNvbl9jb250YWluZXIiLCJzdmdSb290IiwiY29udGVudERvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwicGF0aHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInMiLCJYTUxTZXJpYWxpemVyIiwiaWNvbk9iaiIsImdldEVsZW1lbnRCeUlkIiwiaWNvblBhdGhzQXJyYXkiLCJpIiwibGVuZ3RoIiwic3R5bGUiLCJmaWxsIiwiU2V0dGluZ3NPYmoiLCJwYXRoRGlyIiwic2VyaWFsaXplVG9TdHJpbmciLCJjb25zb2xlIiwibG9nIiwicHVzaCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJjaGFuZ2UiLCJlbCIsInRoaXMiLCJ2YWx1ZVNlbGVjdGVkIiwidmFsdWUiLCJuYW1lIiwiYXR0ciIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0QXR0cmlidXRlIiwic3ZnRG9jIiwiUGF0aHNBcnJheSIsInN0eWxlUHJvcHMiLCJ0cmFuc2Zvcm0iLCJzY2FsZUltZyIsIm1vdmVMZWZ0IiwibW92ZVRvcCIsInRyYW5zZm9ybVN0cmluZyIsIlN0cmluZ1ZhbHVlcyIsIm1hdGNoIiwibWFwIiwidiIsInBhcnNlRmxvYXQiLCJjc3MiLCJvcHRpb25zQ1RNIiwiem9vbSIsImUiLCJmIiwiYmluZCIsIk1hcENvbG9yIiwiTWFwU3Ryb2tlQ29sb3IiLCJNYXBQb2ludHNDb2xvciIsIk1hcFBvaW50c0JvcmRlckNvbG9yIiwiTWFwUm91dGVDb2xvciIsIlBhZ2VCb2R5Q29sb3IiLCJDb2xvckNvbGxlY3Rpb24iLCJkaXNwbGF5IiwidmFsIiwic3Ryb2tlIiwiYmFja2dyb3VuZC1jb2xvciIsImJvcmRlciIsIlJhbmdlSW5wdXRzIiwiUm91dGVTdGFydENoZWNrYm94IiwibWFwRm9yU2V0dGluZ3MiLCJjdXJyZW50TWFwIiwiY2hhbmdlZE1hcCIsImNpcmNsZXNBcnJheSIsInIiLCJvbiIsInByb3AiLCJpZCIsImJvcmRlci1ib3R0b20iLCJjaGVja2VkIiwibWluaWNvbG9ycyIsIm9wYWNpdHkiLCJmb3JtYXQiLCJyZ2JhU3RyaW5nIiwiaHNsIiwicmdiIiwiZyIsImIiLCJhIiwic3dhdGNoZXMiLCJzaG93U3BlZWQiLCJqIiwiaXMiLCJzaG93IiwiaWNvbiIsImljb25fY29udCIsImhpZGUiLCJpY29uU1JDIiwiZWRpdG9yIiwiYmV6aWVyRWRpdG9yIiwiZHJhdyIsImNsZWFyQmV6aWVyIiwiY2xlYXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsIk1hdGVyaWFsaXplIiwidG9hc3QiLCJnb0Z1bGxTY3JlZW4iLCJQYXRoQ3VydmVzIiwiUmV0dXJuU2F2ZWRQYXRoIiwiRmlyc3RSb3V0ZSIsIm5ld1JvdXRlIiwiZXhwb3J0QmV6aWVyIiwic2xpY2UiLCJEcmF3blBhdGgiLCJzcmMiLCJzdmdNYXAiLCJzaWRlTmF2IiwiYW5pbWF0ZSIsInJlbW92ZUNsYXNzIiwic2F2ZWRNYXAiLCJXcmFwcGVyUHJvcHMiLCJlYWNoIiwiZHJvcGRvd24iLCJpbkR1cmF0aW9uIiwib3V0RHVyYXRpb24iLCJjb25zdHJhaW5XaWR0aCIsImhvdmVyIiwiZ3V0dGVyIiwiYmVsb3dPcmlnaW4iLCJhbGlnbm1lbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJtYXRlcmlhbF9jaGlwIiwiYXV0b2NvbXBsZXRlT3B0aW9ucyIsImRhdGEiLCJBcHBsZSIsIk1pY3Jvc29mdCIsIkdvb2dsZSIsIlRyYXZlbCIsIlZhY2F0aW9uIiwiU3Rvcnl0ZWxsaW5nIG1hcCIsImtlayIsImxpbWl0IiwiSW5maW5pdHkiLCJtaW5MZW5ndGgiLCJ1cGRhdGVUZXh0RmllbGRzIiwiaGFzQ2xhc3MiLCJ0YXBUYXJnZXQiLCJhZGRDbGFzcyIsIm92ZXJmbG93IiwiZGF0YUF0dHJpYnV0ZSIsImFjdGlvbiIsInByb2plY3RJbmZvIiwicHJvamVjdE5hbWUiLCJwcm9qZWN0RGVzY3JpcHRpb24iLCJ0YWdzIiwidGFnc0FycmF5IiwiY2hpcCIsImNvdW50IiwicHJvamVjdFRhZ3MiLCJOYW1lSW5wdXQiLCJEZXNjcmlwdGlvbklucHV0Iiwib3BlblNpZGVOYXYiLCJkIiwiRGF0ZSIsInRleHQiLCJkYXRlIiwieWVhciIsImdldEZ1bGxZZWFyIiwiZ2V0WWVhciJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUVDLFVBQVVDLE1BQU0sV0FDZCxTQUFTQyxFQUFzQkMsR0FDM0IsSUFBSUMsRUFBaUJDLEtBQUtDLE1BQU1DLGFBQWFDLFFBQVEsZUFDakRDLFNBQVUseUJBQ1ZDLGVBQWdCLG1CQUNoQkMsZUFBZ0IscUJBQ2hCQyxxQkFBc0IsbUJBQ3RCQyxjQUFlLG1CQUNmQyxvQkFBcUIseUJBQ3JCQyxpQkFBa0IsSUFDbEJDLFVBQVcsT0FDWEMsWUFBYSxRQUNiQyxhQUFjLElBQ2RDLGtCQUFtQixJQUNuQkMsYUFBYyxLQUNkQyxhQUFjLGFBQ2RDLGNBQWUsUUFDZkMsY0FBZSxRQUNmQyxXQUFZLFFBQ1pDLFVBQVcsR0FDWEMs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QVNyRixNQUFPLEdBQUksUUFFdkIsZ0JBQVZzSCxFQUNQckwsRUFBRSxjQUFjb0osU0FDWnJGLE1BQU8sUUFDUG9ILFNBQVUsV0FDWCxLQUNjLE9BQVZFLEdBQ1A5QyxZQUFZQyxNQUFNLHdCQUF5QixLQUMzQ3hJLEVBQUUsY0FBY29KLFNBQ1pyRixNQUFPLE1BQ1BvSCxTQUFVLFVBQ1gsTUFDYyxRQUFWRSxFQUNQckwsRUFBRSxjQUFjb0osU0FDWnJGLE1BQU8sUUFDUG9ILFNBQVUsV0FDWCxLQUNjLFFBQVZFLEdBQ1ByTCxFQUFFLGNBQWNvSixTQUNackYsTUFBTyxPQUNQb0gsU0FBVSxXQUNYLEtBRVA1QyxZQUFZd0MsbUJBeEdSaUIsQ0FBWVosTUEwSHBCLElBQUlhLEVBQUksSUFBSUMsS0FDWmxNLEVBQUUsaUJBQWlCbU0sS0FSbkIsU0FBaUJDLEdBQ2YsSUFBSUMsRUFBT0QsRUFBS0UsY0FHaEIsT0FGSUQsRUFBTyxLQUFJQSxFQUFPLElBQU1BLEdBRXJCQSxFQUllRSxDQUFRTiIsImZpbGUiOiJlZGl0b3Jfc2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICBmdW5jdGlvbiBnZXRTZXR0aW5nRnJvbVN0b3JhZ2Uoc2V0dGluZykge1xyXG4gICAgICAgIHZhciBTZXR0aW5nc09iamVjdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJTZXR0aW5nc1wiKSkgfHwgeyAvLyBnZXQgZWRpdG9yIHNldHRpbmdzXHJcbiAgICAgICAgICAgIG1hcENvbG9yOiBcInJnYmEoMjU1LCAyMDQsIDEyOCwgMSlcIixcclxuICAgICAgICAgICAgbWFwU3Ryb2tlQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAxKVwiLFxyXG4gICAgICAgICAgICBtYXBQb2ludHNDb2xvcjogXCJyZ2JhKDAsIDAsIDI1NSwgMSlcIixcclxuICAgICAgICAgICAgbWFwUG9pbnRzQm9yZGVyQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAxKVwiLFxyXG4gICAgICAgICAgICBtYXBSb3V0ZUNvbG9yOiBcInJnYmEoMCwgMCwgMCwgMSlcIixcclxuICAgICAgICAgICAgYm9keUJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDI0MywgMjI5LCAyNDUsIDEpXCIsXHJcbiAgICAgICAgICAgIHJvdXRlQm9yZGVyV2lkdGg6IFwiNFwiLFxyXG4gICAgICAgICAgICByb3V0ZVR5cGU6IFwibGluZVwiLFxyXG4gICAgICAgICAgICByb3V0ZVNoYWRvdzogXCJmYWxzZVwiLFxyXG4gICAgICAgICAgICBwb2ludHNSYWRpdXM6IFwiOFwiLFxyXG4gICAgICAgICAgICBwb2ludHNCb3JkZXJXaWR0aDogXCIxXCIsXHJcbiAgICAgICAgICAgIGNvbnRlbnRXaWR0aDogXCI1MFwiLFxyXG4gICAgICAgICAgICBjb250ZW50QWxpZ246IFwiZmxleC1zdGFydFwiLFxyXG4gICAgICAgICAgICBjaGVja2JveFN0YXRlOiBcImZhbHNlXCIsXHJcbiAgICAgICAgICAgIGRlZmF1bHRPcHRpb246IFwiZmFsc2VcIixcclxuICAgICAgICAgICAgVXNlck9wdGlvbjogXCJmYWxzZVwiLFxyXG4gICAgICAgICAgICBTdGFydEljb246IFwiXCIsXHJcbiAgICAgICAgICAgIFJvdXRlU3RhcnRJY29uQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAxKVwiLFxyXG4gICAgICAgICAgICBSb3V0ZVN0YXJ0SWNvblNpemU6IFwiMTBcIlxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKFNldHRpbmdzT2JqZWN0W3NldHRpbmddKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBTZXR0aW5nc09iamVjdFtzZXR0aW5nXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHZhciBlZGl0b3IgPSBuZXcgYmV6aWVyRWRpdG9yKFwiYmV6aWVyLWNhbnZhc1wiKTtcclxuICAgIGVkaXRvci5kcmF3KCk7IC8vIGRyYXcgY2FudmFzXHJcblxyXG4gICAgJCgnI2NsZWFyJykuYmluZChcImNsaWNrXCIsIGZ1bmN0aW9uKCkgeyAvL2NsZWFyIGNhbnZhcyBhbmQgbG9jYWxzdG9yYWdlXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGVkaXRvci5jbGVhckJlemllcigpKTtcclxuICAgICAgICAkKFwiI2RhdGFNYXBcIikuYXR0cihcImRhdGFcIiwgXCJcIik7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICAgZWRpdG9yLmRyYXcoKTtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnI3JlZHJhdycpLmJpbmQoXCJjbGlja1wiLCBmdW5jdGlvbigpIHsgLy9yZWRyYXcgY2FudmFzXHJcblxyXG4gICAgICAgIGVkaXRvci5kcmF3KCk7XHJcbiAgICAgICAgTWF0ZXJpYWxpemUudG9hc3QoJ0VkaXRvciByZWRyYXduIScsIDIwMDApO1xyXG5cclxuICAgIH0pXHJcblxyXG4gICAgJCgnI3NjcmVlbicpLmJpbmQoXCJjbGlja1wiLCBmdW5jdGlvbigpIHsgLy8gZnVsbCBzY3JlZW4gcmVneW1lXHJcbiAgICAgICAgZ29GdWxsU2NyZWVuKCk7XHJcbiAgICAgICAgZWRpdG9yLmRyYXcoKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJyNleHBvcnQnKS5iaW5kKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7IC8vIGV4cG9ydCBwYXRoLCBzYXZlIGFsbCBzZXR0aW5nIHRvIGxvY2Fsc3RvcmFnZSBhbmQgZ28gdG8gdGhlIG5leHQgcGFnZVxyXG4gICAgICAgIGVkaXRvci5kcmF3KCk7XHJcbiAgICAgICAgdmFyIENob3Nlbk1hcCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21hcCcpKSB8fCBcIlwiO1xyXG4gICAgICAgIGlmIChDaG9zZW5NYXAubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgUGF0aEN1cnZlcyA9IGVkaXRvci5SZXR1cm5TYXZlZFBhdGgoKTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ1NhdmVkQ3VydmVzJywgSlNPTi5zdHJpbmdpZnkoUGF0aEN1cnZlcykpO1xyXG4gICAgICAgICAgICB2YXIgRmlyc3RSb3V0ZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BhdGgnKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoRmlyc3RSb3V0ZSkgeyAvL2NoZWNrIGlmIHBhdGggd2FzIGFscmVhZHkgZHJhd25cclxuICAgICAgICAgICAgICAgIHZhciBuZXdSb3V0ZSA9IGVkaXRvci5leHBvcnRCZXppZXIoKTtcclxuICAgICAgICAgICAgICAgIG5ld1JvdXRlID0gbmV3Um91dGUuc2xpY2UoMSk7XHJcbiAgICAgICAgICAgICAgICBGaXJzdFJvdXRlICs9IG5ld1JvdXRlOyAvLyBpZiBwYXRoIHdhcyByZWRyYXduIHRoZW4gY29ubmVjdCAyIHBhdGhzXHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGF0aCcsIEpTT04uc3RyaW5naWZ5KEZpcnN0Um91dGUpKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ld1JvdXRlKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEZpcnN0Um91dGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIERyYXduUGF0aCA9IGVkaXRvci5leHBvcnRCZXppZXIoKTsgLy9jb25zdHJ1Y3RvciBtZXRob2QsIHRvIGV4cG9ydCByb3V0ZVxyXG5cclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwYXRoJywgSlNPTi5zdHJpbmdpZnkoRHJhd25QYXRoKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IFwiZHJhd25NYXAuaHRtbFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIE1hdGVyaWFsaXplLnRvYXN0KCdFZGl0b3IgaXMgY2xlYXIhIDJuZCBzdGVwIGlzIHJlc3RyaWN0ZWQhJywgMjAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIGVkaXRvciA9IG5ldyBiZXppZXJFZGl0b3IoXCJiZXppZXItY2FudmFzXCIpO1xyXG5cclxuICAgICQoJy5pbWdfaXRlbScpLmJpbmQoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc3JjID0gJCh0aGlzKS5hdHRyKCdzcmMnKTsgLy9zYXZlIGNob29zZW4gbWFwIHVybFxyXG4gICAgICAgIHZhciBzdmdNYXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGFNYXBcIik7XHJcbiAgICAgICAgJChcIiNkYXRhTWFwXCIpLmF0dHIoXCJkYXRhXCIsIHNyYyk7XHJcbiAgICAgICAgbG9hZE1hcChzdmdNYXApO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtYXAnLCBKU09OLnN0cmluZ2lmeShzcmMpKTtcclxuICAgICAgICBNYXRlcmlhbGl6ZS50b2FzdCgnTWFwIGlzIHNlbGVjdGVkIScsIDIwMDApO1xyXG4gICAgICAgICQoJy5idXR0b24tY29sbGFwc2UnKS5zaWRlTmF2KCdoaWRlJyk7XHJcbiAgICAgICAgJChcIi5tYWluLW1lbnVcIikuYW5pbWF0ZSh7d2lkdGg6IDB9LCAxMDApO1xyXG4gICAgICAgICQoXCIuc2xpZGVfYnRuLmFjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBlZGl0b3IuZHJhdygpO1xyXG4gICAgY29uc29sZS5sb2coSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIlNldHRpbmdzXCIpKSk7XHJcblxyXG4gICAgZnVuY3Rpb24gbG9hZE1hcChtYXBfY29udGFpbmVyKSB7XHJcbiAgICAgICAgbWFwX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbigpIHsgLy9sb2FkIGNob29zZW4gcGF0aFxyXG4gICAgICAgICAgICB2YXIgc3ZnRG9jID0gbWFwX2NvbnRhaW5lci5jb250ZW50RG9jdW1lbnQ7IC8vZ2V0IHRoZSBpbm5lciBET00gb2YgYWxwaGEuc3ZnXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN2Z0RvYyk7XHJcbiAgICAgICAgICAgIHZhciBzdmdSb290ID0gc3ZnRG9jLmRvY3VtZW50RWxlbWVudDtcclxuICAgICAgICAgICAgdmFyIE1hcFBhdGhzR3JvdXAgPSBzdmdSb290LmdldEVsZW1lbnRCeUlkKFwibWFwUGF0aHNcIik7XHJcbiAgICAgICAgICAgIHZhciBQYXRoc0FycmF5ID0gTWFwUGF0aHNHcm91cC5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGF0aCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIFNldHRpbmdzT2JqID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIlNldHRpbmdzXCIpKSB8fCB7IC8vcGFnZSBzZXR0aW5nc1xyXG4gICAgICAgICAgICAgICAgbWFwQ29sb3I6IFwicmdiYSgyNTUsIDIwNCwgMTI4LCAxKVwiLFxyXG4gICAgICAgICAgICAgICAgbWFwU3Ryb2tlQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAxKVwiLFxyXG4gICAgICAgICAgICAgICAgbWFwUG9pbnRzQ29sb3I6IFwicmdiYSgwLCAwLCAyNTUsIDEpXCIsXHJcbiAgICAgICAgICAgICAgICBtYXBQb2ludHNCb3JkZXJDb2xvcjogXCJyZ2JhKDAsIDAsIDAsIDEpXCIsXHJcbiAgICAgICAgICAgICAgICBtYXBSb3V0ZUNvbG9yOiBcInJnYmEoMCwgMCwgMCwgMSlcIixcclxuICAgICAgICAgICAgICAgIGJvZHlCYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgyNDMsIDIyOSwgMjQ1LCAxKVwiLFxyXG4gICAgICAgICAgICAgICAgcm91dGVCb3JkZXJXaWR0aDogXCI0XCIsXHJcbiAgICAgICAgICAgICAgICByb3V0ZVR5cGU6IFwibGluZVwiLFxyXG4gICAgICAgICAgICAgICAgcm91dGVTaGFkb3c6IFwiZmFsc2VcIixcclxuICAgICAgICAgICAgICAgIHBvaW50c1JhZGl1czogXCI4XCIsXHJcbiAgICAgICAgICAgICAgICBwb2ludHNCb3JkZXJXaWR0aDogXCIxXCIsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50V2lkdGg6IFwiNTBcIixcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRBbGlnbjogXCJmbGV4LXN0YXJ0XCIsXHJcbiAgICAgICAgICAgICAgICBjaGVja2JveFN0YXRlOiBcImZhbHNlXCIsXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0T3B0aW9uOiBcImZhbHNlXCIsXHJcbiAgICAgICAgICAgICAgICBVc2VyT3B0aW9uOiBcImZhbHNlXCIsXHJcbiAgICAgICAgICAgICAgICBTdGFydEljb246IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBSb3V0ZVN0YXJ0SWNvbkNvbG9yOiBcInJnYmEoMCwgMCwgMCwgMSlcIixcclxuICAgICAgICAgICAgICAgIFJvdXRlU3RhcnRJY29uU2l6ZTogXCIyXCJcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZVByb3BzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIm1hcFN0eWxlUHJvcGVydGllc1wiKSkgfHwge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcIlwiXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgc2NhbGVJbWcgPSAxO1xyXG4gICAgICAgICAgICB2YXIgbW92ZUxlZnQgPSAwO1xyXG4gICAgICAgICAgICB2YXIgbW92ZVRvcCA9IDA7XHJcbiAgICAgICAgICAgIHZhciBtb3ZlTGVmdERlZmF1bHQgPSAwO1xyXG4gICAgICAgICAgICB2YXIgbW92ZVRvcERlZmF1bHQgPSAwO1xyXG5cclxuICAgICAgICAgICAgaWYgKChzdHlsZVByb3BzLnRyYW5zZm9ybSkubGVuZ3RoICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybVN0cmluZyA9IChzdHlsZVByb3BzLnRyYW5zZm9ybSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVnZXggPSAvWystXT9cXGQrKFxcLlxcZCspPy9nO1xyXG4gICAgICAgICAgICAgICAgdmFyIFN0cmluZ1ZhbHVlcyA9IHRyYW5zZm9ybVN0cmluZy5tYXRjaChyZWdleCkubWFwKGZ1bmN0aW9uKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coU3RyaW5nVmFsdWVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzY2FsZUltZyA9IFN0cmluZ1ZhbHVlc1swXTtcclxuICAgICAgICAgICAgICAgIG1vdmVMZWZ0ID0gU3RyaW5nVmFsdWVzWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVUb3AgPSBTdHJpbmdWYWx1ZXNbMl07XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzY2FsZUltZywgbW92ZUxlZnQsIG1vdmVUb3ApO1xyXG5cclxuICAgICAgICAgICAgICAgICQoXCIjbWFwX2JnXCIpLmNzcyhcInRyYW5zZm9ybVwiLCBcInNjYWxlKFwiICsgc2NhbGVJbWcgKyBcIikgdHJhbnNsYXRlKFwiICsgbW92ZUxlZnQgKyBcInB4LFwiICsgbW92ZVRvcCArIFwicHgpXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgb3B0aW9uc0NUTSA9IHtcclxuICAgICAgICAgICAgICAgIHpvb206IDAsXHJcbiAgICAgICAgICAgICAgICBlOiAwLFxyXG4gICAgICAgICAgICAgICAgZjogMFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coc3R5bGVQcm9wcyk7XHJcblxyXG4gICAgICAgICAgICAkKFwiI3BsdXNcIikuYmluZCgnY2xpY2snLCBmdW5jdGlvbigpIHsgLy96b29tIG1hcFxyXG4gICAgICAgICAgICAgICAgc2NhbGVJbWcgKz0gMC4xO1xyXG4gICAgICAgICAgICAgICAgJCgnI21hcF9iZycpLmNzcyhcInRyYW5zZm9ybVwiLCBcInNjYWxlKFwiICsgc2NhbGVJbWcgKyBcIikgdHJhbnNsYXRlKFwiICsgbW92ZUxlZnQgKyBcInB4LFwiICsgbW92ZVRvcCArIFwicHgpXCIpO1xyXG4gICAgICAgICAgICAgICAgc3R5bGVQcm9wcy50cmFuc2Zvcm0gPSBcInNjYWxlKFwiICsgc2NhbGVJbWcgKyBcIikgdHJhbnNsYXRlKFwiICsgbW92ZUxlZnQgKyBcIiAgICBcIiArIG1vdmVUb3AgKyBcIilcIjtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdmFyIGN0eCA9IGVkaXRvci5jdHg7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY3R4LnRyYW5zZm9ybShzY2FsZUltZywgMCwgMCwgc2NhbGVJbWcsIG1vdmVMZWZ0LCBtb3ZlVG9wKTtcclxuICAgICAgICAgICAgICAgIC8vIGVkaXRvci5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm1hcFN0eWxlUHJvcGVydGllc1wiLCBKU09OLnN0cmluZ2lmeShzdHlsZVByb3BzKSk7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIlNyZWVuQ1RNXCIsIEpTT04uc3RyaW5naWZ5KG9wdGlvbnNDVE0pKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd6b29tJywgSlNPTi5zdHJpbmdpZnkoc2NhbGVJbWcpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICQoXCIjbWludXNcIikuYmluZCgnY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlSW1nIC09IDAuMztcclxuICAgICAgICAgICAgICAgIGlmIChzY2FsZUltZyA8IDEuMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlSW1nID0gMS4wO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICQoJyNtYXBfYmcnKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZShcIiArIHNjYWxlSW1nICsgXCIpIHRyYW5zbGF0ZShcIiArIG1vdmVMZWZ0ICsgXCJweCxcIiArIG1vdmVUb3AgKyBcInB4KVwiKTtcclxuICAgICAgICAgICAgICAgIHN0eWxlUHJvcHMudHJhbnNmb3JtID0gXCJzY2FsZShcIiArIHNjYWxlSW1nICsgXCIpIHRyYW5zbGF0ZShcIiArIG1vdmVMZWZ0ICsgXCIgXCIgKyBtb3ZlVG9wICsgXCIpXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gJCgnY2FudmFzJykuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGUoXCIgKyBzY2FsZUltZyArIFwiKSB0cmFuc2xhdGUoXCIrIG1vdmVMZWZ0ICtcIiBcIiArIG1vdmVUb3ArIFwiKVwiKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd6b29tJywgSlNPTi5zdHJpbmdpZnkoc2NhbGVJbWcpKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiU3JlZW5DVE1cIiwgSlNPTi5zdHJpbmdpZnkob3B0aW9uc0NUTSkpO1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJtYXBTdHlsZVByb3BlcnRpZXNcIiwgSlNPTi5zdHJpbmdpZnkoc3R5bGVQcm9wcykpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAkKFwiI21vdmVMZWZ0XCIpLmJpbmQoXCJjbGlja1wiLCBmdW5jdGlvbigpIHsgLy8gbW92ZSBtYXAgbGVmdFxyXG4gICAgICAgICAgICAgICAgbW92ZUxlZnQgKz0gMTA7XHJcbiAgICAgICAgICAgICAgICAkKCcjbWFwX2JnJykuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGUoXCIgKyBzY2FsZUltZyArIFwiKSB0cmFuc2xhdGUoXCIgKyBtb3ZlTGVmdCArIFwicHgsXCIgKyBtb3ZlVG9wICsgXCJweClcIik7XHJcbiAgICAgICAgICAgICAgICBzdHlsZVByb3BzLnRyYW5zZm9ybSA9IFwic2NhbGUoXCIgKyBzY2FsZUltZyArIFwiKSB0cmFuc2xhdGUoXCIgKyBtb3ZlTGVmdCArIFwiIFwiICsgbW92ZVRvcCArIFwiKVwiO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIlNyZWVuQ1RNXCIsIEpTT04uc3RyaW5naWZ5KG9wdGlvbnNDVE0pKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibWFwU3R5bGVQcm9wZXJ0aWVzXCIsIEpTT04uc3RyaW5naWZ5KHN0eWxlUHJvcHMpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICQoXCIjbW92ZVJpZ2h0XCIpLmJpbmQoXCJjbGlja1wiLCBmdW5jdGlvbigpIHsgLy8gbW92ZSBtYXAgcmlnaHRcclxuICAgICAgICAgICAgICAgIG1vdmVMZWZ0IC09IDEwO1xyXG4gICAgICAgICAgICAgICAgJCgnI21hcF9iZycpLmNzcyhcInRyYW5zZm9ybVwiLCBcInNjYWxlKFwiICsgc2NhbGVJbWcgKyBcIikgdHJhbnNsYXRlKFwiICsgbW92ZUxlZnQgKyBcInB4LFwiICsgbW92ZVRvcCArIFwicHgpXCIpO1xyXG4gICAgICAgICAgICAgICAgc3R5bGVQcm9wcy50cmFuc2Zvcm0gPSBcInNjYWxlKFwiICsgc2NhbGVJbWcgKyBcIikgdHJhbnNsYXRlKFwiICsgbW92ZUxlZnQgKyBcIiBcIiArIG1vdmVUb3AgKyBcIilcIjtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJTcmVlbkNUTVwiLCBKU09OLnN0cmluZ2lmeShvcHRpb25zQ1RNKSk7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm1hcFN0eWxlUHJvcGVydGllc1wiLCBKU09OLnN0cmluZ2lmeShzdHlsZVByb3BzKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkKFwiI21vdmVUb3BcIikuYmluZChcImNsaWNrXCIsIGZ1bmN0aW9uKCkgeyAvLyBtb3ZlIG1hcCB0b3BcclxuICAgICAgICAgICAgICAgIG1vdmVUb3AgKz0gMTA7XHJcbiAgICAgICAgICAgICAgICAkKCcjbWFwX2JnJykuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGUoXCIgKyBzY2FsZUltZyArIFwiKSB0cmFuc2xhdGUoXCIgKyBtb3ZlTGVmdCArIFwicHgsXCIgKyBtb3ZlVG9wICsgXCJweClcIik7XHJcbiAgICAgICAgICAgICAgICBzdHlsZVByb3BzLnRyYW5zZm9ybSA9IFwic2NhbGUoXCIgKyBzY2FsZUltZyArIFwiKSB0cmFuc2xhdGUoXCIgKyBtb3ZlTGVmdCArIFwiIFwiICsgbW92ZVRvcCArIFwiKVwiO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIlNyZWVuQ1RNXCIsIEpTT04uc3RyaW5naWZ5KG9wdGlvbnNDVE0pKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibWFwU3R5bGVQcm9wZXJ0aWVzXCIsIEpTT04uc3RyaW5naWZ5KHN0eWxlUHJvcHMpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICQoXCIjbW92ZUJvdHRvbVwiKS5iaW5kKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7IC8vIG1vdmUgbWFwIGJvdHRvbVxyXG4gICAgICAgICAgICAgICAgbW92ZVRvcCAtPSAxMDtcclxuICAgICAgICAgICAgICAgICQoJyNtYXBfYmcnKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZShcIiArIHNjYWxlSW1nICsgXCIpIHRyYW5zbGF0ZShcIiArIG1vdmVMZWZ0ICsgXCJweCxcIiArIG1vdmVUb3AgKyBcInB4KVwiKTtcclxuICAgICAgICAgICAgICAgIHN0eWxlUHJvcHMudHJhbnNmb3JtID0gXCJzY2FsZShcIiArIHNjYWxlSW1nICsgXCIpIHRyYW5zbGF0ZShcIiArIG1vdmVMZWZ0ICsgXCIgXCIgKyBtb3ZlVG9wICsgXCIpXCI7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiU3JlZW5DVE1cIiwgSlNPTi5zdHJpbmdpZnkob3B0aW9uc0NUTSkpO1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJtYXBTdHlsZVByb3BlcnRpZXNcIiwgSlNPTi5zdHJpbmdpZnkoc3R5bGVQcm9wcykpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgTWFwQ29sb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcENvbG9yUGlja2VyXCIpO1xyXG4gICAgICAgICAgICB2YXIgTWFwU3Ryb2tlQ29sb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcFN0cm9rZUNvbG9yUGlja2VyXCIpO1xyXG4gICAgICAgICAgICB2YXIgTWFwUG9pbnRzQ29sb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcFBvaW50c0NvbG9yUGlja2VyXCIpO1xyXG4gICAgICAgICAgICB2YXIgTWFwUG9pbnRzQm9yZGVyQ29sb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcFBvaW50c0JvcmRlckNvbG9yUGlja2VyXCIpO1xyXG4gICAgICAgICAgICB2YXIgTWFwUm91dGVDb2xvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwUm91dGVDb2xvclBpY2tlclwiKTtcclxuICAgICAgICAgICAgdmFyIFBhZ2VCb2R5Q29sb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvZHlDb2xvclBpY2tlclwiKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBDb2xvckNvbGxlY3Rpb24gPSAkKFwiLmNvbG9yUGlja2VyXCIpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNvbG9yX2NoYW5nZSA9ICQoXCIjY29sb3JfY2hhbmdlXCIpO1xyXG5cclxuICAgICAgICAgICAgTWFwQ29sb3Iuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgTWFwU3Ryb2tlQ29sb3Iuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgTWFwUG9pbnRzQ29sb3Iuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgTWFwUG9pbnRzQm9yZGVyQ29sb3Iuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgTWFwUm91dGVDb2xvci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICBQYWdlQm9keUNvbG9yLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG4gICAgICAgICAgICBNYXBDb2xvci52YWx1ZSA9IGdldFNldHRpbmdGcm9tU3RvcmFnZShcIm1hcENvbG9yXCIpO1xyXG4gICAgICAgICAgICBNYXBTdHJva2VDb2xvci52YWx1ZSA9IGdldFNldHRpbmdGcm9tU3RvcmFnZShcIm1hcFN0cm9rZUNvbG9yXCIpO1xyXG4gICAgICAgICAgICBNYXBQb2ludHNDb2xvci52YWx1ZSA9IGdldFNldHRpbmdGcm9tU3RvcmFnZShcIm1hcFBvaW50c0NvbG9yXCIpO1xyXG4gICAgICAgICAgICBNYXBQb2ludHNCb3JkZXJDb2xvci52YWx1ZSA9IGdldFNldHRpbmdGcm9tU3RvcmFnZShcIm1hcFBvaW50c0JvcmRlckNvbG9yXCIpO1xyXG4gICAgICAgICAgICBNYXBSb3V0ZUNvbG9yLnZhbHVlID0gZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwibWFwUm91dGVDb2xvclwiKTtcclxuICAgICAgICAgICAgUGFnZUJvZHlDb2xvci52YWx1ZSA9IGdldFNldHRpbmdGcm9tU3RvcmFnZShcImJvZHlCYWNrZ3JvdW5kQ29sb3JcIik7XHJcbiAgICAgICAgICAgICQoXCIjUGF0aFN0YXJ0SWNvbkNvbG9yXCIpLnZhbChnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJSb3V0ZVN0YXJ0SWNvbkNvbG9yXCIpKTtcclxuXHJcbiAgICAgICAgICAgICQoJyN0ZXN0NicpLnZhbHVlID0gZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwicG9pbnRzUmFkaXVzXCIpICogMjtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgUGF0aHNBcnJheS5sZW5ndGg7IGkrKykgeyAvL2NoYW5nZSBtYXAgY29sb3IgYW5kIG1hcCBzdHJva2UgY29sb3IgZHVlIHRvIHNldHRpbmdzXHJcbiAgICAgICAgICAgICAgICBQYXRoc0FycmF5W2ldLnN0eWxlLmZpbGwgPSBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJtYXBDb2xvclwiKTtcclxuICAgICAgICAgICAgICAgIFBhdGhzQXJyYXlbaV0uc3R5bGUuc3Ryb2tlID0gZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwibWFwU3Ryb2tlQ29sb3JcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAkKCcjY2lyY2xlX2V4YW1wbGUnKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IGdldFNldHRpbmdGcm9tU3RvcmFnZShcInBvaW50c1JhZGl1c1wiKSAqIDIsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGdldFNldHRpbmdGcm9tU3RvcmFnZShcInBvaW50c1JhZGl1c1wiKSAqIDIsXHJcbiAgICAgICAgICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIjogZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwibWFwUG9pbnRzQ29sb3JcIiksXHJcbiAgICAgICAgICAgICAgICBib3JkZXI6IGdldFNldHRpbmdGcm9tU3RvcmFnZShcInBvaW50c0JvcmRlcldpZHRoXCIpICsgXCJzb2xpZFwiICsgZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwibWFwUG9pbnRzQm9yZGVyQ29sb3JcIilcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkKFwiLnJvdXRlRXhhbXBsZVwiKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJyb3V0ZUJvcmRlcldpZHRoXCIpLFxyXG4gICAgICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IGdldFNldHRpbmdGcm9tU3RvcmFnZShcIm1hcFJvdXRlQ29sb3JcIilcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkKFwiI2ljb25UZXN0XCIpLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IGdldFNldHRpbmdGcm9tU3RvcmFnZShcIlJvdXRlU3RhcnRJY29uU2l6ZVwiKSxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwiUm91dGVTdGFydEljb25TaXplXCIpXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIFJhbmdlSW5wdXRzID0gJChcImlucHV0W3R5cGU9cmFuZ2VdXCIpO1xyXG4gICAgICAgICAgICB2YXIgUm91dGVTdGFydENoZWNrYm94ID0gJChcImlucHV0W25hbWU9cm91dGVTdGFydENoZWNrYm94XVwiKTtcclxuICAgICAgICAgICAgdmFyIG1hcEZvclNldHRpbmdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBTZXR0aW5nc1wiKTtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRNYXAgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibWFwXCIpKTtcclxuICAgICAgICAgICAgJChcIiNtYXBTZXR0aW5nc1wiKS5hdHRyKFwiZGF0YVwiLCBjdXJyZW50TWFwKTtcclxuXHJcblxyXG4gICAgICAgICAgICBtYXBGb3JTZXR0aW5ncy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdmdEb2MgPSBtYXBGb3JTZXR0aW5ncy5jb250ZW50RG9jdW1lbnQ7IC8vZ2V0IHRoZSBpbm5lciBET00gb2YgYWxwaGEuc3ZnXHJcbiAgICAgICAgICAgICAgICB2YXIgc3ZnUm9vdCA9IHN2Z0RvYy5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hhbmdlZE1hcCA9IHN2Z1Jvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhdGgnKTs7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICQoXCIubWFwX3NldHRpbmdzX2Jsb2NrXCIpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwiYm9keUJhY2tncm91bmRDb2xvclwiKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFuZ2VkTWFwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlZE1hcFtpXS5zdHlsZS5maWxsID0gZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwibWFwQ29sb3JcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlZE1hcFtpXS5zdHlsZS5zdHJva2UgPSBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJtYXBTdHJva2VDb2xvclwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgJChSYW5nZUlucHV0cykuY2hhbmdlKGZ1bmN0aW9uKGVsKSB7IC8vdXNlciByYW5nZSBzZXR0aW5ncyBjaG9pY2Ugdml6dWFsaXphdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25TZWxlY3RlZCA9ICQoXCJvcHRpb246c2VsZWN0ZWRcIiwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlU2VsZWN0ZWQgPSB0aGlzLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gdGhpcy5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIFNldHRpbmdzT2JqW25hbWVdID0gdmFsdWVTZWxlY3RlZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNpcmNsZXNBcnJheSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NpcmNsZXNDb29yZHMnKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2lyY2xlc0FycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXNBcnJheVtpXS5yID0gU2V0dGluZ3NPYmoucG9pbnRzUmFkaXVzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2NpcmNsZV9leGFtcGxlJykuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFNldHRpbmdzT2JqLnBvaW50c1JhZGl1cyAqIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogU2V0dGluZ3NPYmoucG9pbnRzUmFkaXVzICogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBTZXR0aW5nc09iai5wb2ludHNCb3JkZXJXaWR0aCArIFwicHggc29saWQgXCIgKyBTZXR0aW5nc09iai5tYXBQb2ludHNCb3JkZXJDb2xvcixcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIucm91dGVFeGFtcGxlXCIpLmNzcyhcImhlaWdodFwiLCBTZXR0aW5nc09iai5yb3V0ZUJvcmRlcldpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmNvbnRlbnRfYmxvY2tcIikuY3NzKFwid2lkdGhcIiwgU2V0dGluZ3NPYmouY29udGVudFdpZHRoICsgXCIlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2lyY2xlc0Nvb3JkcycsIEpTT04uc3RyaW5naWZ5KGNpcmNsZXNBcnJheSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdTZXR0aW5ncycsIEpTT04uc3RyaW5naWZ5KFNldHRpbmdzT2JqKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lID0gY29udGVudEFsaWduXScpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7IC8vY2hvb3NlIHRleHQgYWxpZ24gb24gM3JkIHN0ZXBcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZFJhZGlvID0gJCh0aGlzKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsaWduQ2xhc3MgPSBjaGVja2VkUmFkaW9bMF0uaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJCh0aGlzKS52YWwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnRlc3RfYmxvY2snKS5jc3MoXCJqdXN0aWZ5LWNvbnRlbnRcIiwgJCh0aGlzKS52YWwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3NPYmouY29udGVudEFsaWduID0gJCh0aGlzKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnU2V0dGluZ3MnLCBKU09OLnN0cmluZ2lmeShTZXR0aW5nc09iaikpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJyb3V0ZVR5cGVcIikgPT0gXCJsaW5lXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiaW5wdXRbdmFsdWU9bGluZV1cIikuYXR0cihcImNoZWNrZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwicm91dGVUeXBlXCIpID09IFwiZGFzaGVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiaW5wdXRbdmFsdWU9ZGFzaGVkXVwiKS5hdHRyKFwiY2hlY2tlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnJvdXRlRXhhbXBsZVwiKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZC1jb2xvclwiOiBcInRyYW5zcGFyZW50XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYm9yZGVyLWJvdHRvbVwiOiBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJyb3V0ZUJvcmRlcldpZHRoXCIpICsgXCJweFwiICsgXCIgZGFzaGVkIFwiICsgZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwibWFwUm91dGVDb2xvclwiKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGdldFNldHRpbmdGcm9tU3RvcmFnZShcInJvdXRlQm9yZGVyV2lkdGhcIikgKyBcInB4XCIgKyBcIiBkYXNoZWQgXCIgKyBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJtYXBSb3V0ZUNvbG9yXCIpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJyb3V0ZVR5cGVcIikgPT0gXCJkb3R0ZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCJpbnB1dFt2YWx1ZT1kb3R0ZWRdXCIpLmF0dHIoXCJjaGVja2VkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIucm91dGVFeGFtcGxlXCIpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IFwidHJhbnNwYXJlbnRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJib3JkZXItYm90dG9tXCI6IGdldFNldHRpbmdGcm9tU3RvcmFnZShcInJvdXRlQm9yZGVyV2lkdGhcIikgKyBcInB4XCIgKyBcIiBkb3R0ZWQgXCIgKyBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJtYXBSb3V0ZUNvbG9yXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWUgPSByb3V0ZVR5cGVdJykub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHsgLy9jaG9vc2Ugcm91dGUgdHlwZSBvbiAzcmQgc3RlcFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGVja2VkUmFkaW8gPSAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYWxpZ25DbGFzcyA9IGNoZWNrZWRSYWRpb1swXS5pZDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkKHRoaXMpLnZhbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkKHRoaXMpLnZhbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAkKCcudGVzdF9ibG9jaycpLmNzcyhcImp1c3RpZnktY29udGVudFwiLCAkKHRoaXMpLnZhbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBTZXR0aW5nc09iai5yb3V0ZVR5cGUgPSAkKHRoaXMpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PSBcImxpbmVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnJvdXRlRXhhbXBsZVwiKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJyb3V0ZUJvcmRlcldpZHRoXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJib3JkZXItYm90dG9tXCI6IFwiMHB4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIjogZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwibWFwUm91dGVDb2xvclwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT0gXCJkYXNoZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnJvdXRlRXhhbXBsZVwiKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjFweFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJib3JkZXItYm90dG9tXCI6IGdldFNldHRpbmdGcm9tU3RvcmFnZShcInJvdXRlQm9yZGVyV2lkdGhcIikgKyBcInB4XCIgKyBcIiBkYXNoZWQgXCIgKyBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJtYXBSb3V0ZUNvbG9yXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IFwidHJhbnNwYXJlbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwicm91dGVCb3JkZXJXaWR0aFwiKSArIFwicHhcIiArIFwiIGRhc2hlZCBcIiArIGdldFNldHRpbmdGcm9tU3RvcmFnZShcIm1hcFJvdXRlQ29sb3JcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PSBcImRvdHRlZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIucm91dGVFeGFtcGxlXCIpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMXB4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImJvcmRlci1ib3R0b21cIjogZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwicm91dGVCb3JkZXJXaWR0aFwiKSArIFwicHhcIiArIFwiIGRvdHRlZCBcIiArIGdldFNldHRpbmdGcm9tU3RvcmFnZShcIm1hcFJvdXRlQ29sb3JcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIjogXCJ0cmFuc3BhcmVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ1NldHRpbmdzJywgSlNPTi5zdHJpbmdpZnkoU2V0dGluZ3NPYmopKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJChcImlucHV0W25hbWU9cm91dGVTaGFkb3ddXCIpLmF0dHIoXCJjaGVja2VkXCIsIEpTT04ucGFyc2UoZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwicm91dGVTaGFkb3dcIikpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkKFwiaW5wdXRbbmFtZT1yb3V0ZVNoYWRvd11cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwia2VrXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZXR0aW5nc09iai5yb3V0ZVNoYWRvdyA9IFwidHJ1ZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnU2V0dGluZ3MnLCBKU09OLnN0cmluZ2lmeShTZXR0aW5nc09iaikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiam9wYVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3NPYmoucm91dGVTaGFkb3cgPSBcImZhbHNlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdTZXR0aW5ncycsIEpTT04uc3RyaW5naWZ5KFNldHRpbmdzT2JqKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJChDb2xvckNvbGxlY3Rpb24pLm1pbmljb2xvcnMoeyAvL2pxdWVyeS1taW5pY29sb3JzIHBsdWdpbiBzZXR0aW5nc1xyXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBcInJnYlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHJnYmFTdHJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24oaHNsLCByZ2IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJnYmFTdHJpbmcgPSAncmdiYSgnICsgcmdiLnIgKyAnLCAnICsgcmdiLmcgKyAnLCAnICsgcmdiLmIgKyAnLCAnICsgcmdiLmEgKyAnKSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJnYmFTdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3dhdGNoZXM6IFsncmdiYSgxNTQsIDksIDE3MywgMSknLCAncmdiYSgyNDAsIDE3LCAxNywgMSknLCAncmdiYSgwLCAyNTUsIDIxLCAxKScsICdyZ2JhKDE1LCA0MywgMjU1LCAxKScsICdyZ2JhKDI1NSwgMjM5LCAxMywgMSknXSxcclxuICAgICAgICAgICAgICAgICAgICBzaG93U3BlZWQ6IDEwMFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJChDb2xvckNvbGxlY3Rpb24pLm1pbmljb2xvcnMoXCJyZ2JhU3RyaW5nXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICQoQ29sb3JDb2xsZWN0aW9uKS5jaGFuZ2UoZnVuY3Rpb24oZWwpIHsgLy91c2VyIGNvbG9yIHNldHRpbmdzIGNob2ljZSB2aXp1YWxpemF0aW9uIGFuZCBzYXZpbmcgdG8gbG9jYWxzdG9yYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvblNlbGVjdGVkID0gJChcIm9wdGlvbjpzZWxlY3RlZFwiLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVTZWxlY3RlZCA9IHRoaXMudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSB0aGlzLm5hbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFNldHRpbmdzT2JqW25hbWVdID0gdmFsdWVTZWxlY3RlZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBQYXRoc0FycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBhdGhzQXJyYXlbaV0uc3R5bGUuZmlsbCA9IFNldHRpbmdzT2JqLm1hcENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQYXRoc0FycmF5W2ldLnN0eWxlLnN0cm9rZSA9IFNldHRpbmdzT2JqLm1hcFN0cm9rZUNvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoYW5nZWRNYXAubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZE1hcFtqXS5zdHlsZS5maWxsID0gU2V0dGluZ3NPYmoubWFwQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWRNYXBbal0uc3R5bGUuc3Ryb2tlID0gU2V0dGluZ3NPYmoubWFwU3Ryb2tlQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIubWFwX3NldHRpbmdzX2Jsb2NrXCIpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgU2V0dGluZ3NPYmouYm9keUJhY2tncm91bmRDb2xvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoJyNjaXJjbGVfZXhhbXBsZScpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJcIiArIFNldHRpbmdzT2JqLnBvaW50c0JvcmRlcldpZHRoICsgXCJweCBzb2xpZCBcIiArIFNldHRpbmdzT2JqLm1hcFBvaW50c0JvcmRlckNvbG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIjogU2V0dGluZ3NPYmoubWFwUG9pbnRzQ29sb3JcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnJvdXRlRXhhbXBsZVwiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFNldHRpbmdzT2JqLm1hcFJvdXRlQ29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIud3JhcF9tYXBcIikuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCBTZXR0aW5nc09iai5ib2R5QmFja2dyb3VuZENvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnU2V0dGluZ3MnLCBKU09OLnN0cmluZ2lmeShTZXR0aW5nc09iaikpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICQoUm91dGVTdGFydENoZWNrYm94KS5hdHRyKFwiY2hlY2tlZFwiLCBKU09OLnBhcnNlKGdldFNldHRpbmdGcm9tU3RvcmFnZShcImNoZWNrYm94U3RhdGVcIikpKTtcclxuICAgICAgICAgICAgJChcIiNkZWZhdWx0T3B0aW9uXCIpLmF0dHIoXCJjaGVja2VkXCIsIEpTT04ucGFyc2UoZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwiZGVmYXVsdE9wdGlvblwiKSkpOyAvL2RlZmF1bHQgUm91dGUgU3RhcnQgc3R5bGVcclxuICAgICAgICAgICAgJChcIiNVc2VyT3B0aW9uXCIpLmF0dHIoXCJjaGVja2VkXCIsIEpTT04ucGFyc2UoZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwiVXNlck9wdGlvblwiKSkpOyAvL1VzZXIncyBjaG9pY2Ugb2YgUm91dGUgU3RhcnQgc3R5bGVcclxuXHJcbiAgICAgICAgICAgIGlmICgkKFJvdXRlU3RhcnRDaGVja2JveCkuaXMoXCI6Y2hlY2tlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgJChcIi5jZW50ZXJlZF9mb3JtXCIpLnNob3coKS5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCQoXCIjVXNlck9wdGlvblwiKS5pcyhcIjpjaGVja2VkXCIpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuYWRkaXRpb25hbF9zZXR0aW5nc1wiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGljb24gPSBcIlwiICsgZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwiU3RhcnRJY29uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpY29uX2NvbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImljb25UZXN0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpY29uLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjaWNvblRlc3RcIikuYXR0cihcImRhdGFcIiwgaWNvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRJY29uKGljb25fY29udCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNpY29uVGVzdFwiKS5hdHRyKFwiZGF0YVwiLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCQoXCIjZGVmYXVsdE9wdGlvblwiKS5pcyhcIjpjaGVja2VkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5hZGRpdGlvbmFsX3NldHRpbmdzXCIpLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLmFkZGl0aW9uYWxfc2V0dGluZ3NcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJChcIi5jZW50ZXJlZF9mb3JtXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJChSb3V0ZVN0YXJ0Q2hlY2tib3gpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3NPYmouY2hlY2tib3hTdGF0ZSA9IFwidHJ1ZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdTZXR0aW5ncycsIEpTT04uc3RyaW5naWZ5KFNldHRpbmdzT2JqKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coU2V0dGluZ3NPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuY2VudGVyZWRfZm9ybVwiKS5zaG93KCkuY3NzKCdkaXNwbGF5JywgJ2ZsZXgnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuY2VudGVyZWRfZm9ybVwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3NPYmouY2hlY2tib3hTdGF0ZSA9IFwiZmFsc2VcIjtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmFkZGl0aW9uYWxfc2V0dGluZ3NcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdTZXR0aW5ncycsIEpTT04uc3RyaW5naWZ5KFNldHRpbmdzT2JqKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJChcIiNVc2VyT3B0aW9uXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7IC8vY2hvb3NlIHVzZXIgb3B0aW9uXHJcbiAgICAgICAgICAgICAgICBTZXR0aW5nc09iai5Vc2VyT3B0aW9uID0gXCJ0cnVlXCI7XHJcbiAgICAgICAgICAgICAgICBTZXR0aW5nc09iai5kZWZhdWx0T3B0aW9uID0gXCJmYWxzZVwiO1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJTZXR0aW5nc1wiLCBKU09OLnN0cmluZ2lmeShTZXR0aW5nc09iaikpO1xyXG4gICAgICAgICAgICAgICAgJChcIi5hZGRpdGlvbmFsX3NldHRpbmdzXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgIHZhciBpY29uX2NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaWNvblRlc3RcIik7XHJcbiAgICAgICAgICAgICAgICAkKFwiI2ljb25UZXN0XCIpLmF0dHIoXCJkYXRhXCIsIGdldFNldHRpbmdGcm9tU3RvcmFnZShcIlN0YXJ0SWNvblwiKSk7XHJcbiAgICAgICAgICAgICAgICBsb2FkSWNvbihpY29uX2NvbnRhaW5lcik7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICQoXCIjZGVmYXVsdE9wdGlvblwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkgeyAvL2Nob29zZSBkZWZhdWx0IG9wdGlvblxyXG4gICAgICAgICAgICAgICAgU2V0dGluZ3NPYmouVXNlck9wdGlvbiA9IFwiZmFsc2VcIjtcclxuICAgICAgICAgICAgICAgIFNldHRpbmdzT2JqLmRlZmF1bHRPcHRpb24gPSBcInRydWVcIjtcclxuXHJcbiAgICAgICAgICAgICAgICBTZXR0aW5nc09iai5TdGFydEljb24gPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJTdGFydFJvdXRlSWNvblwiLCBKU09OLnN0cmluZ2lmeShbXSkpO1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJTZXR0aW5nc1wiLCBKU09OLnN0cmluZ2lmeShTZXR0aW5nc09iaikpO1xyXG4gICAgICAgICAgICAgICAgJChcIi5hZGRpdGlvbmFsX3NldHRpbmdzXCIpLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJChcIi5pY29uX2dhbGxlcnlfX2l0ZW1cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHsgLy9jaG9vc2UgaWNvbiBvZiBSb3V0ZSBTdGFydFxyXG4gICAgICAgICAgICAgICAgdmFyIGljb25TUkMgPSAkKHRoaXMpLmF0dHIoXCJzcmNcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpY29uU1JDKTtcclxuICAgICAgICAgICAgICAgIHZhciBpY29uX2NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaWNvblRlc3RcIik7XHJcbiAgICAgICAgICAgICAgICAkKFwiI2ljb25UZXN0XCIpLmF0dHIoXCJkYXRhXCIsIGljb25TUkMpO1xyXG4gICAgICAgICAgICAgICAgbG9hZEljb24oaWNvbl9jb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgU2V0dGluZ3NPYmouU3RhcnRJY29uID0gaWNvblNSQztcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiU2V0dGluZ3NcIiwgSlNPTi5zdHJpbmdpZnkoU2V0dGluZ3NPYmopKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBsb2FkSWNvbihpY29uX2NvbnRhaW5lcikgeyAvLyBsb2FkIGljb24gdG8gc2hvdyBleGFtcGxlXHJcbiAgICAgICAgICAgICAgICBpY29uX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3ZnRG9jID0gaWNvbl9jb250YWluZXIuY29udGVudERvY3VtZW50OyAvL2dldCB0aGUgaW5uZXIgRE9NIG9mIGFscGhhLnN2Z1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdmdSb290ID0gc3ZnRG9jLmRvY3VtZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aHMgPSBzdmdSb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGF0aFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IG5ldyBYTUxTZXJpYWxpemVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpY29uT2JqID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpY29uVGVzdFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGljb25QYXRoc0FycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoc1tpXS5zdHlsZS5maWxsID0gU2V0dGluZ3NPYmouUm91dGVTdGFydEljb25Db2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGhEaXIgPSBzLnNlcmlhbGl6ZVRvU3RyaW5nKHBhdGhzW2ldKTsgLy9jb252ZXJ0IGh0bWwgZWxlbWVudCB0byBzdHJpbmcgd2l0aCBYTUxTZXJpYWxpemVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhdGhEaXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uUGF0aHNBcnJheS5wdXNoKHBhdGhEaXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaWNvblBhdGhzQXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiU3RhcnRSb3V0ZUljb25cIiwgSlNPTi5zdHJpbmdpZnkoaWNvblBhdGhzQXJyYXkpKTsgLy8gc2F2ZSByb3V0ZSBzdGFydCBpY29uIHRvIGxvY2Fsc3RvcmFnZSBzZXR0aW5nc1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCJpbnB1dFtuYW1lPVJvdXRlU3RhcnRJY29uQ29sb3JdXCIpLmNoYW5nZShmdW5jdGlvbihlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uU2VsZWN0ZWQgPSAkKFwib3B0aW9uOnNlbGVjdGVkXCIsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVTZWxlY3RlZCA9IHRoaXMudmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IHRoaXMubmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdzT2JqW25hbWVdID0gdmFsdWVTZWxlY3RlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aHNbaV0uc3R5bGUuZmlsbCA9IFNldHRpbmdzT2JqLlJvdXRlU3RhcnRJY29uQ29sb3I7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiU2V0dGluZ3NcIiwgSlNPTi5zdHJpbmdpZnkoU2V0dGluZ3NPYmopKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coU2V0dGluZ3NPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKFwiaW5wdXRbbmFtZSA9IFJvdXRlU3RhcnRJY29uU2l6ZV1cIikuY2hhbmdlKGZ1bmN0aW9uKCkgeyAvLyB1c2VyIGNob2ljZSBvZiByb3V0ZSBzdGFydCBpY29uIHNpemVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvblNlbGVjdGVkID0gJChcIm9wdGlvbjpzZWxlY3RlZFwiLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlU2VsZWN0ZWQgPSB0aGlzLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IHRoaXMubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3NPYmpbbmFtZV0gPSB2YWx1ZVNlbGVjdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2ljb25UZXN0XCIpLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFNldHRpbmdzT2JqLlJvdXRlU3RhcnRJY29uU2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogU2V0dGluZ3NPYmouUm91dGVTdGFydEljb25TaXplXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdmdSb290LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsICQoaWNvbk9iaikuYXR0cihcIndpZHRoXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ZnUm9vdC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgJChpY29uT2JqKS5hdHRyKFwiaGVpZ2h0XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3ZnUm9vdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFNldHRpbmdzT2JqKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB2YXIgc2F2ZWRNYXAgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtYXAnKSkgfHwgW107IC8vIGdldCBtYXAgZnJvbSBscyBpZiBpdCBleGlzdHNcclxuXHJcbiAgICBpZiAoc2F2ZWRNYXApIHtcclxuICAgICAgICB2YXIgc3ZnTWFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXRhTWFwXCIpO1xyXG4gICAgICAgICQoXCIjZGF0YU1hcFwiKS5hdHRyKFwiZGF0YVwiLCBzYXZlZE1hcCk7XHJcbiAgICAgICAgbG9hZE1hcChzdmdNYXApOyAvLyBsb2FkIG1hcCBpZiBpdCdzIHNhdmVkIGluIGxvY2Fsc3RvcmFnZVxyXG5cclxuICAgICAgICB2YXIgV3JhcHBlclByb3BzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWFwU3R5bGVQcm9wZXJ0aWVzJykpIHx8IFtdO1xyXG4gICAgICAgIHZhciBtYXBCZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwYmdcIik7XHJcblxyXG4gICAgICAgIGlmIChXcmFwcGVyUHJvcHMpIHtcclxuICAgICAgICAgICAgJC5lYWNoKFdyYXBwZXJQcm9wcywgZnVuY3Rpb24ocHJvcCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjbWFwX2JnXCIpLmNzcyhwcm9wLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgJCgnLmRyb3Bkb3duLWJ1dHRvbicpLmRyb3Bkb3duKHtcclxuICAgICAgICBpbkR1cmF0aW9uOiAzMDAsXHJcbiAgICAgICAgb3V0RHVyYXRpb246IDIyNSxcclxuICAgICAgICBjb25zdHJhaW5XaWR0aDogZmFsc2UsIC8vIERvZXMgbm90IGNoYW5nZSB3aWR0aCBvZiBkcm9wZG93biB0byB0aGF0IG9mIHRoZSBhY3RpdmF0b3JcclxuICAgICAgICBob3ZlcjogdHJ1ZSwgLy8gQWN0aXZhdGUgb24gaG92ZXJcclxuICAgICAgICBndXR0ZXI6IDAsIC8vIFNwYWNpbmcgZnJvbSBlZGdlXHJcbiAgICAgICAgYmVsb3dPcmlnaW46IHRydWUsIC8vIERpc3BsYXlzIGRyb3Bkb3duIGJlbG93IHRoZSBidXR0b25cclxuICAgICAgICBhbGlnbm1lbnQ6ICdsZWZ0JywgLy8gRGlzcGxheXMgZHJvcGRvd24gd2l0aCBlZGdlIGFsaWduZWQgdG8gdGhlIGxlZnQgb2YgYnV0dG9uXHJcbiAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmYWxzZSAvLyBTdG9wcyBldmVudCBwcm9wYWdhdGlvblxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmNoaXBzJykubWF0ZXJpYWxfY2hpcCgpO1xyXG5cclxuICAgICQoJy5jaGlwcy1hdXRvY29tcGxldGUnKS5tYXRlcmlhbF9jaGlwKHtcclxuICAgICAgICBhdXRvY29tcGxldGVPcHRpb25zOiB7XHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICdBcHBsZSc6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAnTWljcm9zb2Z0JzogbnVsbCxcclxuICAgICAgICAgICAgICAgICdHb29nbGUnOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgJ1RyYXZlbCc6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAnVmFjYXRpb24nOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgJ1N0b3J5dGVsbGluZyBtYXAnOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgJ2tlayc6IG51bGxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGltaXQ6IEluZmluaXR5LFxyXG4gICAgICAgICAgICBtaW5MZW5ndGg6IDFcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBNYXRlcmlhbGl6ZS51cGRhdGVUZXh0RmllbGRzKCk7XHJcblxyXG4gICAgJChcIiNtZW51XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCcuYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgJCgnLnRhcC10YXJnZXQnKS50YXBUYXJnZXQoJ29wZW4nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAkKCcudGFwLXRhcmdldCcpLnRhcFRhcmdldCgnY2xvc2UnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICQoXCIuc2xpZGVfYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgY2xvc2VTaWRlTmF2KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGRhdGFBdHRyaWJ1dGUgPSAkKHRoaXMpLmF0dHIoXCJkYXRhLWV4ZWN1dGVcIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGFBdHRyaWJ1dGUpO1xyXG4gICAgICAgICAgICAkKFwiLnNsaWRlX2J0blwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgJChcIi5zZXR0aW5nX29wdGlvblwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICQoXCIjXCIgKyBkYXRhQXR0cmlidXRlKS5zaG93KCk7XHJcbiAgICAgICAgICAgIG9wZW5TaWRlTmF2KGRhdGFBdHRyaWJ1dGUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIG9wZW5TaWRlTmF2KGFjdGlvbikge1xyXG5cclxuICAgICAgICB2YXIgcHJvamVjdEluZm8gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiUHJvamVjdEluZm9cIikpIHx8IHtcclxuICAgICAgICAgICAgcHJvamVjdE5hbWU6IFwiXCIsXHJcbiAgICAgICAgICAgIHByb2plY3REZXNjcmlwdGlvbjogXCJcIixcclxuICAgICAgICAgICAgdGFnczogW11cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB0YWdzQXJyYXkgPSBwcm9qZWN0SW5mby50YWdzIHx8IFtdO1xyXG5cclxuICAgICAgICB2YXIgY2hpcCA9IHtcclxuICAgICAgICAgICAgdGFnOiAnJyxcclxuICAgICAgICAgICAgaWQ6IDFcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkKCcuY2hpcHMnKS5vbignY2hpcC5hZGQnLCBmdW5jdGlvbihlLCBjaGlwKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9qZWN0SW5mbyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJQcm9qZWN0SW5mb1wiKSkgfHwge307XHJcbiAgICAgICAgICAgIC8vIHlvdSBoYXZlIHRoZSBhZGRlZCBjaGlwIGhlcmVcclxuICAgICAgICAgICAgdmFyIGNvdW50ID0gdGFnc0FycmF5Lmxlbmd0aCArIDE7XHJcbiAgICAgICAgICAgIGNoaXAuaWQgPSBjb3VudFxyXG4gICAgICAgICAgICB0YWdzQXJyYXkucHVzaChjaGlwKTtcclxuICAgICAgICAgICAgcHJvamVjdEluZm8udGFncyA9IHRhZ3NBcnJheTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJQcm9qZWN0SW5mb1wiLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0SW5mbykpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0YWdzQXJyYXksIGNvdW50KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnLmNoaXBzJykub24oJ2NoaXAuZGVsZXRlJywgZnVuY3Rpb24oZSwgY2hpcCkge1xyXG4gICAgICAgICAgICAvLyB5b3UgaGF2ZSB0aGUgZGVsZXRlZCBjaGlwIGhlcmVcclxuICAgICAgICAgICAgdmFyIHByb2plY3RJbmZvID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIlByb2plY3RJbmZvXCIpKSB8fCB7fTtcclxuICAgICAgICAgICAgdmFyIHByb2plY3RUYWdzID0gJCgnLmNoaXBzLWF1dG9jb21wbGV0ZScpLm1hdGVyaWFsX2NoaXAoJ2RhdGEnKTtcclxuICAgICAgICAgICAgcHJvamVjdEluZm8udGFncyA9IHByb2plY3RUYWdzO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0VGFncyk7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiUHJvamVjdEluZm9cIiwgSlNPTi5zdHJpbmdpZnkocHJvamVjdEluZm8pKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgaWYgKGFjdGlvbiA9PSBcImNob29zZV9tYXBcIikge1xyXG4gICAgICAgICAgICAkKFwiLm1haW4tbWVudVwiKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEyNTBweFwiLFxyXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IFwidmlzaWJsZVwiXHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT0gXCJjb2xvcml6ZVwiKSB7XHJcbiAgICAgICAgICAgICQoXCIubWFpbi1tZW51XCIpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiODAwcHhcIixcclxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcInZpc2libGVcIlxyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09IFwicHJvamVjdFwiKSB7XHJcbiAgICAgICAgICAgICQoXCIubWFpbi1tZW51XCIpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiODAwcHhcIixcclxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcInZpc2libGVcIlxyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgICAgICBpZiAocHJvamVjdEluZm8pIHtcclxuICAgICAgICAgICAgICAgICQoXCIjcHJvamVjdE5hbWVcIikudmFsKHByb2plY3RJbmZvLnByb2plY3ROYW1lKTtcclxuICAgICAgICAgICAgICAgICQoXCIjcHJvamVjdERlc2NyaXB0aW9uXCIpLnZhbChwcm9qZWN0SW5mby5wcm9qZWN0RGVzY3JpcHRpb24pXHJcbiAgICAgICAgICAgICAgICAkKCcuY2hpcHMtYXV0b2NvbXBsZXRlJykubWF0ZXJpYWxfY2hpcCh7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvamVjdEluZm8udGFncyxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQoXCIjc2F2ZVByb2plY3RCdG5cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwia2VrXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb2plY3RJbmZvID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIlByb2plY3RJbmZvXCIpKTtcclxuICAgICAgICAgICAgICAgIHZhciBOYW1lSW5wdXQgPSAkKFwiI3Byb2plY3ROYW1lXCIpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIERlc2NyaXB0aW9uSW5wdXQgPSAkKFwiI3Byb2plY3REZXNjcmlwdGlvblwiKS52YWwoKTtcclxuICAgICAgICAgICAgICAgIGlmIChOYW1lSW5wdXQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RJbmZvLnByb2plY3ROYW1lID0gTmFtZUlucHV0O1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RJbmZvLnByb2plY3REZXNjcmlwdGlvbiA9IERlc2NyaXB0aW9uSW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdEluZm8udGFncyA9ICQoJy5jaGlwcy1hdXRvY29tcGxldGUnKS5tYXRlcmlhbF9jaGlwKFwiZGF0YVwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdEluZm8ucHJvamVjdE5hbWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RJbmZvLnByb2plY3REZXNjcmlwdGlvbiA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdEluZm8udGFncyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocHJvamVjdEluZm8pO1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJQcm9qZWN0SW5mb1wiLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0SW5mbykpO1xyXG4gICAgICAgICAgICAgICAgJChcIi5zbGlkZV9idG4uYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgJChcIi5tYWluLW1lbnVcIikuYW5pbWF0ZSh7d2lkdGg6IDB9LCAxMDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PSBcImRpc3BsYWNlbWVudFwiKSB7XHJcbiAgICAgICAgICAgICQoXCIubWFpbi1tZW51XCIpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwcHhcIixcclxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcInZpc2libGVcIlxyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09IFwicGVuXCIpIHtcclxuICAgICAgICAgICAgTWF0ZXJpYWxpemUudG9hc3QoXCJEcmF3IHBhdGggYW5kIHBvaW50cyFcIiwgMzAwMCk7XHJcbiAgICAgICAgICAgICQoXCIubWFpbi1tZW51XCIpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMHB4XCIsXHJcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIlxyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09IFwiaW5mb1wiKSB7XHJcbiAgICAgICAgICAgICQoXCIubWFpbi1tZW51XCIpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiNTAwcHhcIixcclxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcInZpc2libGVcIlxyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09IFwic3RlcFwiKSB7XHJcbiAgICAgICAgICAgICQoXCIubWFpbi1tZW51XCIpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiNzBweFwiLFxyXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IFwidmlzaWJsZVwiXHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE1hdGVyaWFsaXplLnVwZGF0ZVRleHRGaWVsZHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbG9zZVNpZGVOYXYoKSB7XHJcbiAgICAgICAgJChcIi5tYWluLW1lbnVcIikuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgIHdpZHRoOiBcIjBweFwiLFxyXG4gICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIlxyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFllYXIoZGF0ZSkge1xyXG4gICAgICB2YXIgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgaWYgKHllYXIgPCAxMCkgeWVhciA9ICcwJyArIHllYXI7XHJcblxyXG4gICAgICByZXR1cm4geWVhcjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAkKCcjY3VycmVudF95ZWFyJykudGV4dChnZXRZZWFyKGQpKTtcclxuXHJcbn0pOyJdfQ==
