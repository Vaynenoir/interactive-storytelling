$(document).ready(function(){function t(t){var e=JSON.parse(localStorage.getItem("Settings"))||{mapColor:"rgba(255, 204, 128, 1)",mapStrokeColor:"rgba(0, 0, 0, 1)",mapPointsColor:"rgba(0, 0, 255, 1)",mapPointsBorderColor:"rgba(0, 0, 0, 1)",mapRouteColor:"rgba(0, 0, 0, 1)",bodyBackgroundColor:"rgba(243, 229, 245, 1)",routeBorderWidth:"4",pointsRadius:"8",pointsBorderWidth:"1",contentWidth:"100",contentAlign:"flex-start",checkboxState:"false",defaultOption:"false",UserOption:"false",StartIcon:"",RouteStartIconColor:"rgba(0, 0, 0, 1)",RouteStartIconSize:"10"};if(e[t])return e[t]}function e(e){e.addEventListener("load",function(){function o(t){t.addEventListener("load",function(){for(var e=t.contentDocument.documentElement,o=e.getElementsByTagName("path"),a=new XMLSerializer,r=document.getElementById("iconTest"),i=[],l=0;l<o.length;l++){o[l].style.fill=n.RouteStartIconColor;var c=a.serializeToString(o[l]);console.log(c),i.push(c)}console.log(i),localStorage.setItem("StartRouteIcon",JSON.stringify(i)),$("input[name=RouteStartIconColor]").change(function(t){$("option:selected",this);var e=this.value,a=this.name;n[a]=e;for(var r=0;r<o.length;r++)o[r].style.fill=n.RouteStartIconColor}),$("input[name = RouteStartIconSize]").change(function(){$("option:selected",this);var t=this.value,o=this.name;n[o]=t,$("#iconTest").attr({width:n.RouteStartIconSize,height:n.RouteStartIconSize}),e.setAttribute("width",$(r).attr("width")),e.setAttribute("height",$(r).attr("height")),console.log(e),console.log(n)})})}var a=e.contentDocument;console.log(a);var r=a.documentElement.getElementById("mapPaths").getElementsByTagName("path"),n=JSON.parse(localStorage.getItem("Settings"))||{mapColor:"rgba(255, 204, 128, 1)",mapStrokeColor:"rgba(0, 0, 0, 1)",mapPointsColor:"rgba(0, 0, 255, 1)",mapPointsBorderColor:"rgba(0, 0, 0, 1)",mapRouteColor:"rgba(0, 0, 0, 1)",bodyBackgroundColor:"rgba(243, 229, 245, 1)",routeBorderWidth:"4",pointsRadius:"8",pointsBorderWidth:"1",contentWidth:"100",contentAlign:"flex-start",checkboxState:"false",defaultOption:"false",UserOption:"false",StartIcon:"",RouteStartIconColor:"rgba(0, 0, 0, 1)",RouteStartIconSize:"2"},i=document.getElementById("mapColorPicker"),l=document.getElementById("mapStrokeColorPicker"),c=document.getElementById("mapPointsColorPicker"),s=document.getElementById("mapPointsBorderColorPicker"),d=document.getElementById("mapRouteColorPicker"),g=document.getElementById("bodyColorPicker"),p=$(".colorPicker");$("#color_change");i.style.display="block",l.style.display="block",c.style.display="block",s.style.display="block",d.style.display="block",g.style.display="block",i.value=t("mapColor"),l.value=t("mapStrokeColor"),c.value=t("mapPointsColor"),s.value=t("mapPointsBorderColor"),d.value=t("mapRouteColor"),g.value=t("bodyBackgroundColor"),$("#PathStartIconColor").val(t("RouteStartIconColor")),$("#test6").value=2*t("pointsRadius");for(var m=0;m<r.length;m++)r[m].style.fill=t("mapColor"),r[m].style.stroke=t("mapStrokeColor");$("#circle_example").css({width:2*t("pointsRadius"),height:2*t("pointsRadius"),"background-color":t("mapPointsColor"),border:t("pointsBorderWidth")+"solid"+t("mapPointsBorderColor")}),$(".routeExample").css({height:t("routeBorderWidth"),"background-color":t("mapRouteColor")}),$("#iconTest").attr({width:t("RouteStartIconSize"),height:t("RouteStartIconSize")});var u=$("input[type=range]"),S=$("input[type=checkbox]"),h=document.getElementById("mapSettings"),f=JSON.parse(localStorage.getItem("map"));if($("#mapSettings").attr("data",f),h.addEventListener("load",function(){var e=h.contentDocument.documentElement.getElementsByTagName("path");$(".map_settings_block").css("background-color",t("bodyBackgroundColor"));for(var o=0;o<e.length;o++)e[o].style.fill=t("mapColor"),e[o].style.stroke=t("mapStrokeColor");$(u).change(function(t){$("option:selected",this);var e=this.value,o=this.name;n[o]=e;for(var a=JSON.parse(localStorage.getItem("circlesCoords")),r=0;r<a.length;r++)a[r].r=n.pointsRadius;$("#circle_example").css({width:2*n.pointsRadius,height:2*n.pointsRadius,border:n.pointsBorderWidth+"px solid "+n.mapPointsBorderColor}),$(".routeExample").css("height",n.routeBorderWidth),$(".content_block").css("width",n.contentWidth+"%"),localStorage.setItem("circlesCoords",JSON.stringify(a)),localStorage.setItem("Settings",JSON.stringify(n))}),$("input[name = contentAlign]").on("click",function(){$(this).prop("checked",!0)[0].id;console.log($(this).val()),$(".test_block").css("justify-content",$(this).val()),n.contentAlign=$(this).val(),localStorage.setItem("Settings",JSON.stringify(n))}),$(p).minicolors({opacity:!0,format:"rgb",rgbaString:!1,change:function(t,e){var o="rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")";console.log(o)},swatches:["rgba(154, 9, 173, 1)","rgba(240, 17, 17, 1)","rgba(0, 255, 21, 1)","rgba(15, 43, 255, 1)","rgba(255, 239, 13, 1)"],showSpeed:100}),$(p).minicolors("rgbaString"),$(p).change(function(t){$("option:selected",this);var o=this.value,a=this.name;n[a]=o;for(var i=0;i<r.length;i++)r[i].style.fill=n.mapColor,r[i].style.stroke=n.mapStrokeColor;for(var l=0;l<e.length;l++)e[l].style.fill=n.mapColor,e[l].style.stroke=n.mapStrokeColor;$(".map_settings_block").css("background-color",n.bodyBackgroundColor),$("#circle_example").css({border:n.pointsBorderWidth+"px solid "+n.mapPointsBorderColor,"background-color":n.mapPointsColor}),$(".routeExample").css("background-color",n.mapRouteColor),$(".wrap_map").css("background-color",n.bodyBackgroundColor),localStorage.setItem("Settings",JSON.stringify(n))})}),$(S).attr("checked",JSON.parse(t("checkboxState"))),$("#defaultOption").attr("checked",JSON.parse(t("defaultOption"))),$("#UserOption").attr("checked",JSON.parse(t("UserOption"))),$(S).is(":checked"))if($(".centered_form").show().css("display","flex"),$("#UserOption").is(":checked")){$(".additional_settings").show();var b=""+t("StartIcon"),y=document.getElementById("iconTest");b.length>0?($("#iconTest").attr("data",b),o(y)):$("#iconTest").attr("data","")}else $("#defaultOption").is(":checked")&&$(".additional_settings").hide();else $(".additional_settings").hide(),$(".centered_form").hide();$(S).on("click",function(){$(this).is(":checked")?(n.checkboxState="true",localStorage.setItem("Settings",JSON.stringify(n)),console.log(n),$(".centered_form").show().css("display","flex")):($(".centered_form").hide(),n.checkboxState="false",$(".additional_settings").hide(),localStorage.setItem("Settings",JSON.stringify(n)))}),$("#UserOption").on("click",function(){n.UserOption="true",n.defaultOption="false",localStorage.setItem("Settings",JSON.stringify(n)),$(".additional_settings").show();var e=document.getElementById("iconTest");$("#iconTest").attr("data",t("StartIcon")),o(e)}),$("#defaultOption").on("click",function(){n.UserOption="false",n.defaultOption="true",localStorage.setItem("Settings",JSON.stringify(n)),$(".additional_settings").hide()}),$(".icon_gallery__item").on("click",function(){var t=$(this).attr("src");console.log(t);var e=document.getElementById("iconTest");$("#iconTest").attr("data",t),o(e),n.StartIcon=t,localStorage.setItem("Settings",JSON.stringify(n))})})}console.log(t("mapColor"));(o=new bezierEditor("bezier-canvas")).draw(),$("#clear").bind("click",function(){console.log(o.clearBezier()),$("#dataMap").attr("data",""),localStorage.clear(),o.draw(),window.location.reload()}),$("#redraw").bind("click",function(){o.draw(),Materialize.toast("Editor redrawn!",2e3)}),$("#screen").bind("click",function(){goFullScreen(),o.draw()}),$("#export").bind("click",function(){o.draw();var t=o.ReturnSavedPath();localStorage.setItem("SavedCurves",JSON.stringify(t));var e=JSON.parse(localStorage.getItem("path"));if(e){var a=o.exportBezier();e+=a=a.slice(1),localStorage.setItem("path",JSON.stringify(e)),console.log(a),console.log(e)}else{var r=o.exportBezier();localStorage.setItem("path",JSON.stringify(r))}console.log(i),localStorage.setItem("mapStyleProperties",JSON.stringify(i))});var o=new bezierEditor("bezier-canvas");$(".img_item").bind("click",function(){var t=$(this).attr("src"),o=document.getElementById("dataMap");$("#dataMap").attr("data",t),e(o),localStorage.setItem("map",JSON.stringify(t)),Materialize.toast("Map is selected!",2e3),$(".button-collapse").sideNav("hide")}),o.draw(),console.log(JSON.parse(localStorage.getItem("Settings")));var a=JSON.parse(localStorage.getItem("map"))||[];if(a){var r=document.getElementById("dataMap");$("#dataMap").attr("data",a),e(r);var n=JSON.parse(localStorage.getItem("mapStyleProperties"))||[];document.getElementById("mapbg");n&&$.each(n,function(t,e){$("#map_bg").css(t,e)})}var i=JSON.parse(localStorage.getItem("mapStyleProperties"))||{transform:"",top:"",left:""};console.log(i);var l=1.1;$("#plus").bind("click",function(){l+=.3,$("#map_bg").css("transform","scale("+l+")"),i.transform="scale("+l+")",localStorage.setItem("zoom",JSON.stringify(l))}),$("#minus").bind("click",function(){(l-=.3)<1.1&&(l=1),$("#map_bg").css("transform","scale("+l+")"),i.transform="scale("+l+")",localStorage.setItem("zoom",JSON.stringify(l))});var c=2,s=2;$("map_bg").css("left","0%"),$("map_bg").css("top","0%"),i.left="0%",i.top="0%",$("#moveLeft").bind("click",function(){c+=3,$("#map_bg").css("left",c+"%"),i.left=c+"%"}),$("#moveRight").bind("click",function(){c-=3,$("#map_bg").css("left",c+"%"),i.left=c+"%"}),$("#moveTop").bind("click",function(){s+=3,$("#map_bg").css("top",s+"%"),i.top=s+"%"}),$("#moveBottom").bind("click",function(){s-=3,$("#map_bg").css("top",s+"%"),i.top=s+"%"})}),$(document).ready(function(){$(".modal").modal(),$("select").material_select();var t=JSON.parse(localStorage.getItem("ProjectInfo"))||{projectName:"",projectDescription:""};$(".modal2").modal({dismissable:!1,ready:function(e,o){t&&($("#projectName").val(t.projectName),$("#projectDescription").val(t.projectDescription))},complete:function(){var e=$("#projectName").val(),o=$("#projectDescription").val();e.length>0&&o.length>0?(t.projectName=e,t.projectDescription=o):(t.projectName="",t.projectDescription=""),localStorage.setItem("ProjectInfo",JSON.stringify(t))}}),$(".button-collapse").sideNav({menuWidth:1200,edge:"left",closeOnClick:!0,draggable:!0}),$("#menu").on("click",function(){$(this).hasClass(".active")?($(this).removeClass("active"),$(".tap-target").tapTarget("close")):($(this).addClass("active"),$(".tap-target").tapTarget("open"))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXRvcl9zY3JpcHQuanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJnZXRTZXR0aW5nRnJvbVN0b3JhZ2UiLCJzZXR0aW5nIiwiU2V0dGluZ3NPYmplY3QiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibWFwQ29sb3IiLCJtYXBTdHJva2VDb2xvciIsIm1hcFBvaW50c0NvbG9yIiwibWFwUG9pbnRzQm9yZGVyQ29sb3IiLCJtYXBSb3V0ZUNvbG9yIiwiYm9keUJhY2tncm91bmRDb2xvciIsInJvdXRlQm9yZGVyV2lkdGgiLCJwb2ludHNSYWRpdXMiLCJwb2ludHNCb3JkZXJXaWR0aCIsImNvbnRlbnRXaWR0aCIsImNvbnRlbnRBbGlnbiIsImNoZWNrYm94U3RhdGUiLCJkZWZhdWx0T3B0aW9uIiwiVXNlck9wdGlvbiIsIlN0YXJ0SWNvbiIsIlJvdXRlU3RhcnRJY29uQ29sb3IiLCJSb3V0ZVN0YXJ0SWNvblNpemUiLCJsb2FkTWFwIiwibWFwX2NvbnRhaW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJsb2FkSWNvbiIsImljb25fY29udGFpbmVyIiwic3ZnUm9vdCIsImNvbnRlbnREb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInBhdGhzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzIiwiWE1MU2VyaWFsaXplciIsImljb25PYmoiLCJnZXRFbGVtZW50QnlJZCIsImljb25QYXRoc0FycmF5IiwiaSIsImxlbmd0aCIsInN0eWxlIiwiZmlsbCIsIlNldHRpbmdzT2JqIiwicGF0aERpciIsInNlcmlhbGl6ZVRvU3RyaW5nIiwiY29uc29sZSIsImxvZyIsInB1c2giLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiY2hhbmdlIiwiZWwiLCJ0aGlzIiwidmFsdWVTZWxlY3RlZCIsInZhbHVlIiwibmFtZSIsImF0dHIiLCJ3aWR0aCIsImhlaWdodCIsInNldEF0dHJpYnV0ZSIsInN2Z0RvYyIsIlBhdGhzQXJyYXkiLCJNYXBDb2xvciIsIk1hcFN0cm9rZUNvbG9yIiwiTWFwUG9pbnRzQ29sb3IiLCJNYXBQb2ludHNCb3JkZXJDb2xvciIsIk1hcFJvdXRlQ29sb3IiLCJQYWdlQm9keUNvbG9yIiwiQ29sb3JDb2xsZWN0aW9uIiwiZGlzcGxheSIsInZhbCIsInN0cm9rZSIsImNzcyIsImJhY2tncm91bmQtY29sb3IiLCJib3JkZXIiLCJSYW5nZUlucHV0cyIsIlJvdXRlU3RhcnRDaGVja2JveCIsIm1hcEZvclNldHRpbmdzIiwiY3VycmVudE1hcCIsImNoYW5nZWRNYXAiLCJjaXJjbGVzQXJyYXkiLCJyIiwib24iLCJwcm9wIiwiaWQiLCJtaW5pY29sb3JzIiwib3BhY2l0eSIsImZvcm1hdCIsInJnYmFTdHJpbmciLCJoc2wiLCJyZ2IiLCJnIiwiYiIsImEiLCJzd2F0Y2hlcyIsInNob3dTcGVlZCIsImoiLCJpcyIsInNob3ciLCJpY29uIiwiaWNvbl9jb250IiwiaGlkZSIsImljb25TUkMiLCJlZGl0b3IiLCJiZXppZXJFZGl0b3IiLCJkcmF3IiwiYmluZCIsImNsZWFyQmV6aWVyIiwiY2xlYXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsIk1hdGVyaWFsaXplIiwidG9hc3QiLCJnb0Z1bGxTY3JlZW4iLCJQYXRoQ3VydmVzIiwiUmV0dXJuU2F2ZWRQYXRoIiwiRmlyc3RSb3V0ZSIsIm5ld1JvdXRlIiwiZXhwb3J0QmV6aWVyIiwic2xpY2UiLCJEcmF3blBhdGgiLCJzdHlsZVByb3BzIiwic3JjIiwic3ZnTWFwIiwic2lkZU5hdiIsInNhdmVkTWFwIiwiV3JhcHBlclByb3BzIiwiZWFjaCIsInRyYW5zZm9ybSIsInRvcCIsImxlZnQiLCJzY2FsZUltZyIsIm1vdmVMZWZ0IiwibW92ZVRvcCIsIm1vZGFsIiwibWF0ZXJpYWxfc2VsZWN0IiwicHJvamVjdEluZm8iLCJwcm9qZWN0TmFtZSIsInByb2plY3REZXNjcmlwdGlvbiIsImRpc21pc3NhYmxlIiwidHJpZ2dlciIsImNvbXBsZXRlIiwiTmFtZUlucHV0IiwiRGVzY3JpcHRpb25JbnB1dCIsIm1lbnVXaWR0aCIsImVkZ2UiLCJjbG9zZU9uQ2xpY2siLCJkcmFnZ2FibGUiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwidGFwVGFyZ2V0IiwiYWRkQ2xhc3MiXSwibWFwcGluZ3MiOiJBQUFRQSxFQUFFQyxVQUFVQyxNQUFNLFdBR2QsU0FBU0MsRUFBc0JDLEdBQzNCLElBQUlDLEVBQWlCQyxLQUFLQyxNQUFNQyxhQUFhQyxRQUFRLGVBQ2pEQyxTQUFVLHlCQUNWQyxlQUFnQixtQkFDaEJDLGVBQWdCLHFCQUNoQkMscUJBQXNCLG1CQUN0QkMsY0FBZSxtQkFDZkMsb0JBQXFCLHlCQUNyQkMsaUJBQWtCLElBQ2xCQyxhQUFjLElBQ2RDLGtCQUFtQixJQUNuQkMsYUFBYyxNQUNkQyxhQUFjLGFBQ2RDLGNBQWUsUUFDZkMsY0FBZSxRQUNmQyxXQUFZLFFBQ1pDLFVBQVcsR0FDWEMsb0JBQXFCLG1CQUNyQkMsbUJBQW9CLE1BTXhCLEdBQUlyQixFQUFlRCxHQUNmLE9BQU9DLEVBQWVELEdBZ0c5QixTQUFTdUIsRUFBUUMsR0FDYkEsRUFBY0MsaUJBQWlCLE9BQVEsV0ErUm5DLFNBQVNDLEVBQVNDLEdBQ2RBLEVBQWVGLGlCQUFpQixPQUFRLFdBU3BDLElBQUssSUFQREcsRUFEU0QsRUFBZUUsZ0JBQ1BDLGdCQUNqQkMsRUFBUUgsRUFBUUkscUJBQXFCLFFBQ3JDQyxFQUFJLElBQUlDLGNBRVJDLEVBQVV0QyxTQUFTdUMsZUFBZSxZQUVsQ0MsS0FDS0MsRUFBSSxFQUFHQSxFQUFJUCxFQUFNUSxPQUFRRCxJQUFLLENBQ25DUCxFQUFNTyxHQUFHRSxNQUFNQyxLQUFPQyxFQUFZckIsb0JBQ2xDLElBQUlzQixFQUFVVixFQUFFVyxrQkFBa0JiLEVBQU1PLElBQ3hDTyxRQUFRQyxJQUFJSCxHQUNaTixFQUFlVSxLQUFLSixHQUV4QkUsUUFBUUMsSUFBSVQsR0FDWmpDLGFBQWE0QyxRQUFRLGlCQUFrQjlDLEtBQUsrQyxVQUFVWixJQUN0RHpDLEVBQUUsbUNBQW1Dc0Qs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QyxVQUFVd0YsT0FPM0Q3SSxFQUFFLG9CQUFvQmlJLFNBQ2xCb0IsVUFBVyxLQUNYQyxLQUFNLE9BQ05DLGNBQWMsRUFDZEMsV0FBVyxJQUdmeEosRUFBRSxTQUFTc0YsR0FBRyxRQUFTLFdBQ2R0RixFQUFFd0QsTUFBTWlHLFNBQVMsWUFJbEJ6SixFQUFFd0QsTUFBTWtHLFlBQVksVUFDcEIxSixFQUFFLGVBQWUySixVQUFVLFdBSjNCM0osRUFBRXdELE1BQU1vRyxTQUFTLFVBQ2pCNUosRUFBRSxlQUFlMkosVUFBVSIsImZpbGUiOiJlZGl0b3Jfc2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRTZXR0aW5nRnJvbVN0b3JhZ2Uoc2V0dGluZykge1xyXG4gICAgICAgICAgICAgICAgdmFyIFNldHRpbmdzT2JqZWN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIlNldHRpbmdzXCIpKSB8fCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwQ29sb3I6IFwicmdiYSgyNTUsIDIwNCwgMTI4LCAxKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcFN0cm9rZUNvbG9yOiBcInJnYmEoMCwgMCwgMCwgMSlcIixcclxuICAgICAgICAgICAgICAgICAgICBtYXBQb2ludHNDb2xvcjogXCJyZ2JhKDAsIDAsIDI1NSwgMSlcIixcclxuICAgICAgICAgICAgICAgICAgICBtYXBQb2ludHNCb3JkZXJDb2xvcjogXCJyZ2JhKDAsIDAsIDAsIDEpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFwUm91dGVDb2xvcjogXCJyZ2JhKDAsIDAsIDAsIDEpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYm9keUJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDI0MywgMjI5LCAyNDUsIDEpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcm91dGVCb3JkZXJXaWR0aDogXCI0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzUmFkaXVzOiBcIjhcIixcclxuICAgICAgICAgICAgICAgICAgICBwb2ludHNCb3JkZXJXaWR0aDogXCIxXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFdpZHRoOiBcIjEwMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRBbGlnbjogXCJmbGV4LXN0YXJ0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hTdGF0ZTogXCJmYWxzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb246IFwiZmFsc2VcIixcclxuICAgICAgICAgICAgICAgICAgICBVc2VyT3B0aW9uOiBcImZhbHNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgU3RhcnRJY29uOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFJvdXRlU3RhcnRJY29uQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAxKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFJvdXRlU3RhcnRJY29uU2l6ZTogXCIxMFwiXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChTZXR0aW5nc09iamVjdFtzZXR0aW5nXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTZXR0aW5nc09iamVjdFtzZXR0aW5nXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwibWFwQ29sb3JcIikpO1xyXG4gICAgICAgICAgICAvLyBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcclxuICAgICAgICAgICAgdmFyIGVkaXRvciA9IG5ldyBiZXppZXJFZGl0b3IoXCJiZXppZXItY2FudmFzXCIpO1xyXG4gICAgICAgICAgICBlZGl0b3IuZHJhdygpO1xyXG5cclxuICAgICAgICAgICAgJCgnI2NsZWFyJykuYmluZChcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVkaXRvci5jbGVhckJlemllcigpKTtcclxuICAgICAgICAgICAgICAgICQoXCIjZGF0YU1hcFwiKS5hdHRyKFwiZGF0YVwiLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJCgnI3JlZHJhdycpLmJpbmQoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgTWF0ZXJpYWxpemUudG9hc3QoJ0VkaXRvciByZWRyYXduIScsIDIwMDApO1xyXG5cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICQoJyNzY3JlZW4nKS5iaW5kKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBnb0Z1bGxTY3JlZW4oKTtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5kcmF3KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAkKCcjZXhwb3J0JykuYmluZChcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmRyYXcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgUGF0aEN1cnZlcyA9IGVkaXRvci5SZXR1cm5TYXZlZFBhdGgoKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdTYXZlZEN1cnZlcycsIEpTT04uc3RyaW5naWZ5KFBhdGhDdXJ2ZXMpKTtcclxuICAgICAgICAgICAgICAgIHZhciBGaXJzdFJvdXRlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGF0aCcpKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEZpcnN0Um91dGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Um91dGUgPSBlZGl0b3IuZXhwb3J0QmV6aWVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Um91dGUgPSBuZXdSb3V0ZS5zbGljZSgxKTtcclxuICAgICAgICAgICAgICAgICAgICBGaXJzdFJvdXRlICs9IG5ld1JvdXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwYXRoJywgSlNPTi5zdHJpbmdpZnkoRmlyc3RSb3V0ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ld1JvdXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhGaXJzdFJvdXRlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIERyYXduUGF0aCA9IGVkaXRvci5leHBvcnRCZXppZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BhdGgnLCBKU09OLnN0cmluZ2lmeShEcmF3blBhdGgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdHlsZVByb3BzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm1hcFN0eWxlUHJvcGVydGllc1wiLCBKU09OLnN0cmluZ2lmeShzdHlsZVByb3BzKSk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBlZGl0b3IgPSBuZXcgYmV6aWVyRWRpdG9yKFwiYmV6aWVyLWNhbnZhc1wiKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZUZpbGVTZWxlY3QoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZXMgPSBldnQudGFyZ2V0LmZpbGVzO1xyXG4gICAgICAgICAgICAgICAgdmFyIGYgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChmdW5jdGlvbih0aGVGaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmxvYWRJbWFnZShlLnRhcmdldC5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZHJhdygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSkoZik7XHJcbiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkKCcuaW1nX2l0ZW0nKS5iaW5kKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3JjID0gJCh0aGlzKS5hdHRyKCdzcmMnKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzdmdNYXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGFNYXBcIik7XHJcbiAgICAgICAgICAgICAgICAkKFwiI2RhdGFNYXBcIikuYXR0cihcImRhdGFcIiwgc3JjKTtcclxuICAgICAgICAgICAgICAgIGxvYWRNYXAoc3ZnTWFwKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtYXAnLCBKU09OLnN0cmluZ2lmeShzcmMpKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgTWF0ZXJpYWxpemUudG9hc3QoJ01hcCBpcyBzZWxlY3RlZCEnLCAyMDAwKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgJCgnLmJ1dHRvbi1jb2xsYXBzZScpLnNpZGVOYXYoJ2hpZGUnKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlZGl0b3IuZHJhdygpO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIlNldHRpbmdzXCIpKSk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBsb2FkTWFwKG1hcF9jb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIG1hcF9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN2Z0RvYyA9IG1hcF9jb250YWluZXIuY29udGVudERvY3VtZW50OyAvL2dldCB0aGUgaW5uZXIgRE9NIG9mIGFscGhhLnN2Z1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN2Z0RvYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN2Z1Jvb3QgPSBzdmdEb2MuZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBNYXBQYXRoc0dyb3VwID0gc3ZnUm9vdC5nZXRFbGVtZW50QnlJZChcIm1hcFBhdGhzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBQYXRoc0FycmF5ID0gTWFwUGF0aHNHcm91cC5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGF0aCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFBhdGhzQXJyYXkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgU2V0dGluZ3NPYmogPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiU2V0dGluZ3NcIikpIHx8IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwQ29sb3I6IFwicmdiYSgyNTUsIDIwNCwgMTI4LCAxKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXBTdHJva2VDb2xvcjogXCJyZ2JhKDAsIDAsIDAsIDEpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcFBvaW50c0NvbG9yOiBcInJnYmEoMCwgMCwgMjU1LCAxKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXBQb2ludHNCb3JkZXJDb2xvcjogXCJyZ2JhKDAsIDAsIDAsIDEpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcFJvdXRlQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAxKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5QmFja2dyb3VuZENvbG9yOiBcInJnYmEoMjQzLCAyMjksIDI0NSwgMSlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVCb3JkZXJXaWR0aDogXCI0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50c1JhZGl1czogXCI4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50c0JvcmRlcldpZHRoOiBcIjFcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFdpZHRoOiBcIjEwMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50QWxpZ246IFwiZmxleC1zdGFydFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveFN0YXRlOiBcImZhbHNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb246IFwiZmFsc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgVXNlck9wdGlvbjogXCJmYWxzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTdGFydEljb246IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJvdXRlU3RhcnRJY29uQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAxKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZVN0YXJ0SWNvblNpemU6IFwiMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIE1hcENvbG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBDb2xvclBpY2tlclwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgTWFwU3Ryb2tlQ29sb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcFN0cm9rZUNvbG9yUGlja2VyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBNYXBQb2ludHNDb2xvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwUG9pbnRzQ29sb3JQaWNrZXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIE1hcFBvaW50c0JvcmRlckNvbG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBQb2ludHNCb3JkZXJDb2xvclBpY2tlclwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgTWFwUm91dGVDb2xvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwUm91dGVDb2xvclBpY2tlclwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgUGFnZUJvZHlDb2xvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9keUNvbG9yUGlja2VyXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgQ29sb3JDb2xsZWN0aW9uID0gJChcIi5jb2xvclBpY2tlclwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yX2NoYW5nZSA9ICQoXCIjY29sb3JfY2hhbmdlXCIpO1xyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBNYXBDb2xvci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIE1hcFN0cm9rZUNvbG9yLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgTWFwUG9pbnRzQ29sb3Iuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgICAgICBNYXBQb2ludHNCb3JkZXJDb2xvci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIE1hcFJvdXRlQ29sb3Iuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgICAgICBQYWdlQm9keUNvbG9yLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIE1hcENvbG9yLnZhbHVlID0gZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwibWFwQ29sb3JcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgTWFwU3Ryb2tlQ29sb3IudmFsdWUgPSBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJtYXBTdHJva2VDb2xvclwiKTtcclxuICAgICAgICAgICAgICAgICAgICBNYXBQb2ludHNDb2xvci52YWx1ZSA9IGdldFNldHRpbmdGcm9tU3RvcmFnZShcIm1hcFBvaW50c0NvbG9yXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIE1hcFBvaW50c0JvcmRlckNvbG9yLnZhbHVlID0gZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwibWFwUG9pbnRzQm9yZGVyQ29sb3JcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgTWFwUm91dGVDb2xvci52YWx1ZSA9IGdldFNldHRpbmdGcm9tU3RvcmFnZShcIm1hcFJvdXRlQ29sb3JcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgUGFnZUJvZHlDb2xvci52YWx1ZSA9IGdldFNldHRpbmdGcm9tU3RvcmFnZShcImJvZHlCYWNrZ3JvdW5kQ29sb3JcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNQYXRoU3RhcnRJY29uQ29sb3JcIikudmFsKGdldFNldHRpbmdGcm9tU3RvcmFnZShcIlJvdXRlU3RhcnRJY29uQ29sb3JcIikpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKCcjdGVzdDYnKS52YWx1ZSA9IGdldFNldHRpbmdGcm9tU3RvcmFnZShcInBvaW50c1JhZGl1c1wiKSAqIDI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgUGF0aHNBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQYXRoc0FycmF5W2ldLnN0eWxlLmZpbGwgPSBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJtYXBDb2xvclwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUGF0aHNBcnJheVtpXS5zdHlsZS5zdHJva2UgPSBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJtYXBTdHJva2VDb2xvclwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKCcjY2lyY2xlX2V4YW1wbGUnKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwicG9pbnRzUmFkaXVzXCIpICogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJwb2ludHNSYWRpdXNcIikgKiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIjogZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwibWFwUG9pbnRzQ29sb3JcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwicG9pbnRzQm9yZGVyV2lkdGhcIikgKyBcInNvbGlkXCIgKyBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJtYXBQb2ludHNCb3JkZXJDb2xvclwiKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnJvdXRlRXhhbXBsZVwiKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGdldFNldHRpbmdGcm9tU3RvcmFnZShcInJvdXRlQm9yZGVyV2lkdGhcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZC1jb2xvclwiOiBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJtYXBSb3V0ZUNvbG9yXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjaWNvblRlc3RcIikuYXR0cih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJSb3V0ZVN0YXJ0SWNvblNpemVcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwiUm91dGVTdGFydEljb25TaXplXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBSYW5nZUlucHV0cyA9ICQoXCJpbnB1dFt0eXBlPXJhbmdlXVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgUm91dGVTdGFydENoZWNrYm94ID0gJChcImlucHV0W3R5cGU9Y2hlY2tib3hdXCIpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hcEZvclNldHRpbmdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBTZXR0aW5nc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudE1hcCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJtYXBcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjbWFwU2V0dGluZ3NcIikuYXR0cihcImRhdGFcIiwgY3VycmVudE1hcCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBtYXBGb3JTZXR0aW5ncy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN2Z0RvYyA9IG1hcEZvclNldHRpbmdzLmNvbnRlbnREb2N1bWVudDsgLy9nZXQgdGhlIGlubmVyIERPTSBvZiBhbHBoYS5zdmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN2Z1Jvb3QgPSBzdmdEb2MuZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhbmdlZE1hcCA9IHN2Z1Jvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhdGgnKTs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBTZXR0aW5nTWFwUGF0aHNBcnJheSA9IE1hcFBhdGhzR3JvdXAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhdGgnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY2hhbmdlZE1hcCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLm1hcF9zZXR0aW5nc19ibG9ja1wiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIGdldFNldHRpbmdGcm9tU3RvcmFnZShcImJvZHlCYWNrZ3JvdW5kQ29sb3JcIikpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFuZ2VkTWFwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhQYXRoc0FycmF5W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWRNYXBbaV0uc3R5bGUuZmlsbCA9IGdldFNldHRpbmdGcm9tU3RvcmFnZShcIm1hcENvbG9yXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZE1hcFtpXS5zdHlsZS5zdHJva2UgPSBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJtYXBTdHJva2VDb2xvclwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoUmFuZ2VJbnB1dHMpLmNoYW5nZShmdW5jdGlvbihlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvblNlbGVjdGVkID0gJChcIm9wdGlvbjpzZWxlY3RlZFwiLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZVNlbGVjdGVkID0gdGhpcy52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gdGhpcy5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3NPYmpbbmFtZV0gPSB2YWx1ZVNlbGVjdGVkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaXJjbGVzQXJyYXkgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaXJjbGVzQ29vcmRzJykpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2lyY2xlc0FycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlc0FycmF5W2ldLnIgPSBTZXR0aW5nc09iai5wb2ludHNSYWRpdXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2NpcmNsZV9leGFtcGxlJykuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogU2V0dGluZ3NPYmoucG9pbnRzUmFkaXVzICogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFNldHRpbmdzT2JqLnBvaW50c1JhZGl1cyAqIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBTZXR0aW5nc09iai5wb2ludHNCb3JkZXJXaWR0aCArIFwicHggc29saWQgXCIgKyBTZXR0aW5nc09iai5tYXBQb2ludHNCb3JkZXJDb2xvcixcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnJvdXRlRXhhbXBsZVwiKS5jc3MoXCJoZWlnaHRcIiwgU2V0dGluZ3NPYmoucm91dGVCb3JkZXJXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmNvbnRlbnRfYmxvY2tcIikuY3NzKFwid2lkdGhcIiwgU2V0dGluZ3NPYmouY29udGVudFdpZHRoICsgXCIlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjaXJjbGVzQ29vcmRzJywgSlNPTi5zdHJpbmdpZnkoY2lyY2xlc0FycmF5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnU2V0dGluZ3MnLCBKU09OLnN0cmluZ2lmeShTZXR0aW5nc09iaikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWUgPSBjb250ZW50QWxpZ25dJykub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGVja2VkUmFkaW8gPSAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbGlnbkNsYXNzID0gY2hlY2tlZFJhZGlvWzBdLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJCh0aGlzKS52YWwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcudGVzdF9ibG9jaycpLmNzcyhcImp1c3RpZnktY29udGVudFwiLCAkKHRoaXMpLnZhbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdzT2JqLmNvbnRlbnRBbGlnbiA9ICQodGhpcykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnU2V0dGluZ3MnLCBKU09OLnN0cmluZ2lmeShTZXR0aW5nc09iaikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKENvbG9yQ29sbGVjdGlvbikubWluaWNvbG9ycyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBcInJnYlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmdiYVN0cmluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uKGhzbCwgcmdiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJnYmFTdHJpbmcgPSAncmdiYSgnICsgcmdiLnIgKyAnLCAnICsgcmdiLmcgKyAnLCAnICsgcmdiLmIgKyAnLCAnICsgcmdiLmEgKyAnKSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmdiYVN0cmluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dhdGNoZXM6IFsncmdiYSgxNTQsIDksIDE3MywgMSknLCdyZ2JhKDI0MCwgMTcsIDE3LCAxKScsJ3JnYmEoMCwgMjU1LCAyMSwgMSknLCdyZ2JhKDE1LCA0MywgMjU1LCAxKScsJ3JnYmEoMjU1LCAyMzksIDEzLCAxKSddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1NwZWVkOiAxMDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJChDb2xvckNvbGxlY3Rpb24pLm1pbmljb2xvcnMoXCJyZ2JhU3RyaW5nXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJChDb2xvckNvbGxlY3Rpb24pLmNoYW5nZShmdW5jdGlvbihlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvblNlbGVjdGVkID0gJChcIm9wdGlvbjpzZWxlY3RlZFwiLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZVNlbGVjdGVkID0gdGhpcy52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG9wdGlvblNlbGVjdGVkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IHRoaXMubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG9wdGlvblNlbGVjdGVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHZhbHVlU2VsZWN0ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3NPYmpbbmFtZV0gPSB2YWx1ZVNlbGVjdGVkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFNldHRpbmdzT2JqKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBQYXRoc0FycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGF0aHNBcnJheVtpXS5zdHlsZS5maWxsID0gU2V0dGluZ3NPYmoubWFwQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGF0aHNBcnJheVtpXS5zdHlsZS5zdHJva2UgPSBTZXR0aW5nc09iai5tYXBTdHJva2VDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2hhbmdlZE1hcC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWRNYXBbal0uc3R5bGUuZmlsbCA9IFNldHRpbmdzT2JqLm1hcENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWRNYXBbal0uc3R5bGUuc3Ryb2tlID0gU2V0dGluZ3NPYmoubWFwU3Ryb2tlQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLm1hcF9zZXR0aW5nc19ibG9ja1wiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFNldHRpbmdzT2JqLmJvZHlCYWNrZ3JvdW5kQ29sb3IpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNjaXJjbGVfZXhhbXBsZScpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIlwiICsgU2V0dGluZ3NPYmoucG9pbnRzQm9yZGVyV2lkdGggKyBcInB4IHNvbGlkIFwiICsgU2V0dGluZ3NPYmoubWFwUG9pbnRzQm9yZGVyQ29sb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IFNldHRpbmdzT2JqLm1hcFBvaW50c0NvbG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIucm91dGVFeGFtcGxlXCIpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgU2V0dGluZ3NPYmoubWFwUm91dGVDb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLndyYXBfbWFwXCIpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgU2V0dGluZ3NPYmouYm9keUJhY2tncm91bmRDb2xvcik7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdTZXR0aW5ncycsIEpTT04uc3RyaW5naWZ5KFNldHRpbmdzT2JqKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoUm91dGVTdGFydENoZWNrYm94KS5hdHRyKFwiY2hlY2tlZFwiLCBKU09OLnBhcnNlKGdldFNldHRpbmdGcm9tU3RvcmFnZShcImNoZWNrYm94U3RhdGVcIikpKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI2RlZmF1bHRPcHRpb25cIikuYXR0cihcImNoZWNrZWRcIiwgSlNPTi5wYXJzZShnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJkZWZhdWx0T3B0aW9uXCIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNVc2VyT3B0aW9uXCIpLmF0dHIoXCJjaGVja2VkXCIsIEpTT04ucGFyc2UoZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwiVXNlck9wdGlvblwiKSkpO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKFJvdXRlU3RhcnRDaGVja2JveCkuaXMoXCI6Y2hlY2tlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmNlbnRlcmVkX2Zvcm1cIikuc2hvdygpLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKFwiI1VzZXJPcHRpb25cIikuaXMoXCI6Y2hlY2tlZFwiKSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIuYWRkaXRpb25hbF9zZXR0aW5nc1wiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWNvbiA9IFwiXCIgKyBnZXRTZXR0aW5nRnJvbVN0b3JhZ2UoXCJTdGFydEljb25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWNvbl9jb250ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpY29uVGVzdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpY29uLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNpY29uVGVzdFwiKS5hdHRyKFwiZGF0YVwiLCBpY29uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkSWNvbihpY29uX2NvbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2ljb25UZXN0XCIpLmF0dHIoXCJkYXRhXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCQoXCIjZGVmYXVsdE9wdGlvblwiKS5pcyhcIjpjaGVja2VkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmFkZGl0aW9uYWxfc2V0dGluZ3NcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5hZGRpdGlvbmFsX3NldHRpbmdzXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5jZW50ZXJlZF9mb3JtXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJChSb3V0ZVN0YXJ0Q2hlY2tib3gpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdzT2JqLmNoZWNrYm94U3RhdGUgPSBcInRydWVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdTZXR0aW5ncycsIEpTT04uc3RyaW5naWZ5KFNldHRpbmdzT2JqKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhTZXR0aW5nc09iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmNlbnRlcmVkX2Zvcm1cIikuc2hvdygpLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5jZW50ZXJlZF9mb3JtXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdzT2JqLmNoZWNrYm94U3RhdGUgPSBcImZhbHNlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmFkZGl0aW9uYWxfc2V0dGluZ3NcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ1NldHRpbmdzJywgSlNPTi5zdHJpbmdpZnkoU2V0dGluZ3NPYmopKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKFwiI1VzZXJPcHRpb25cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3NPYmouVXNlck9wdGlvbiA9IFwidHJ1ZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZXR0aW5nc09iai5kZWZhdWx0T3B0aW9uID0gXCJmYWxzZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIlNldHRpbmdzXCIsIEpTT04uc3RyaW5naWZ5KFNldHRpbmdzT2JqKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIuYWRkaXRpb25hbF9zZXR0aW5nc1wiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpY29uX2NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaWNvblRlc3RcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjaWNvblRlc3RcIikuYXR0cihcImRhdGFcIiwgZ2V0U2V0dGluZ0Zyb21TdG9yYWdlKFwiU3RhcnRJY29uXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEljb24oaWNvbl9jb250YWluZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjZGVmYXVsdE9wdGlvblwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZXR0aW5nc09iai5Vc2VyT3B0aW9uID0gXCJmYWxzZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZXR0aW5nc09iai5kZWZhdWx0T3B0aW9uID0gXCJ0cnVlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiU2V0dGluZ3NcIiwgSlNPTi5zdHJpbmdpZnkoU2V0dGluZ3NPYmopKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5hZGRpdGlvbmFsX3NldHRpbmdzXCIpLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5pY29uX2dhbGxlcnlfX2l0ZW1cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGljb25TUkMgPSAkKHRoaXMpLmF0dHIoXCJzcmNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGljb25TUkMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWNvbl9jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImljb25UZXN0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2ljb25UZXN0XCIpLmF0dHIoXCJkYXRhXCIsIGljb25TUkMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkSWNvbihpY29uX2NvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdzT2JqLlN0YXJ0SWNvbiA9IGljb25TUkM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiU2V0dGluZ3NcIiwgSlNPTi5zdHJpbmdpZnkoU2V0dGluZ3NPYmopKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gbG9hZEljb24oaWNvbl9jb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3ZnRG9jID0gaWNvbl9jb250YWluZXIuY29udGVudERvY3VtZW50OyAvL2dldCB0aGUgaW5uZXIgRE9NIG9mIGFscGhhLnN2Z1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN2Z1Jvb3QgPSBzdmdEb2MuZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGhzID0gc3ZnUm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhdGhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IG5ldyBYTUxTZXJpYWxpemVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGljb25PYmogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImljb25UZXN0XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpY29uUGF0aHNBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhzW2ldLnN0eWxlLmZpbGwgPSBTZXR0aW5nc09iai5Sb3V0ZVN0YXJ0SWNvbkNvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRoRGlyID0gcy5zZXJpYWxpemVUb1N0cmluZyhwYXRoc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGF0aERpcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblBhdGhzQXJyYXkucHVzaChwYXRoRGlyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGljb25QYXRoc0FycmF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiU3RhcnRSb3V0ZUljb25cIiwgSlNPTi5zdHJpbmdpZnkoaWNvblBhdGhzQXJyYXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCJpbnB1dFtuYW1lPVJvdXRlU3RhcnRJY29uQ29sb3JdXCIpLmNoYW5nZShmdW5jdGlvbihlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25TZWxlY3RlZCA9ICQoXCJvcHRpb246c2VsZWN0ZWRcIiwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlU2VsZWN0ZWQgPSB0aGlzLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IHRoaXMubmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3NPYmpbbmFtZV0gPSB2YWx1ZVNlbGVjdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aHNbaV0uc3R5bGUuZmlsbCA9IFNldHRpbmdzT2JqLlJvdXRlU3RhcnRJY29uQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcImlucHV0W25hbWUgPSBSb3V0ZVN0YXJ0SWNvblNpemVdXCIpLmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uU2VsZWN0ZWQgPSAkKFwib3B0aW9uOnNlbGVjdGVkXCIsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZVNlbGVjdGVkID0gdGhpcy52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IHRoaXMubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXR0aW5nc09ialtuYW1lXSA9IHZhbHVlU2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNpY29uVGVzdFwiKS5hdHRyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFNldHRpbmdzT2JqLlJvdXRlU3RhcnRJY29uU2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBTZXR0aW5nc09iai5Sb3V0ZVN0YXJ0SWNvblNpemVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdmdSb290LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsICQoaWNvbk9iaikuYXR0cihcIndpZHRoXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdmdSb290LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCAkKGljb25PYmopLmF0dHIoXCJoZWlnaHRcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN2Z1Jvb3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFNldHRpbmdzT2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIHNhdmVkTWFwID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWFwJykpIHx8IFtdOyAvLyBnZXQgbWFwIGZyb20gbHMgaWYgaXQgZXhpc3RzXHJcblxyXG4gICAgICAgICAgICBpZiAoc2F2ZWRNYXApIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdmdNYXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGFNYXBcIik7XHJcbiAgICAgICAgICAgICAgICAkKFwiI2RhdGFNYXBcIikuYXR0cihcImRhdGFcIiwgc2F2ZWRNYXApO1xyXG4gICAgICAgICAgICAgICAgbG9hZE1hcChzdmdNYXApO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBXcmFwcGVyUHJvcHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtYXBTdHlsZVByb3BlcnRpZXMnKSkgfHwgW107XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFwQmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcGJnXCIpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoV3JhcHBlclByb3BzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChXcmFwcGVyUHJvcHMsIGZ1bmN0aW9uKHByb3AsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjbWFwX2JnXCIpLmNzcyhwcm9wLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZVByb3BzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIm1hcFN0eWxlUHJvcGVydGllc1wiKSkgfHwge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgdG9wOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogXCJcIlxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzdHlsZVByb3BzKTtcclxuICAgICAgICAgICAgdmFyIHNjYWxlSW1nID0gMS4xO1xyXG4gICAgICAgICAgICAkKFwiI3BsdXNcIikuYmluZCgnY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlSW1nICs9IDAuMztcclxuICAgICAgICAgICAgICAgICQoXCIjbWFwX2JnXCIpLmNzcyhcInRyYW5zZm9ybVwiLCBcInNjYWxlKFwiICsgc2NhbGVJbWcgKyBcIilcIik7XHJcbiAgICAgICAgICAgICAgICBzdHlsZVByb3BzLnRyYW5zZm9ybSA9IFwic2NhbGUoXCIgKyBzY2FsZUltZyArIFwiKVwiO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3R5bGVQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnem9vbScsIEpTT04uc3RyaW5naWZ5KHNjYWxlSW1nKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkKFwiI21pbnVzXCIpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZUltZyAtPSAwLjM7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NhbGVJbWcgPCAxLjEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY2FsZUltZyA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkKFwiI21hcF9iZ1wiKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZShcIiArIHNjYWxlSW1nICsgXCIpXCIpO1xyXG4gICAgICAgICAgICAgICAgc3R5bGVQcm9wcy50cmFuc2Zvcm0gPSBcInNjYWxlKFwiICsgc2NhbGVJbWcgKyBcIilcIjtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd6b29tJywgSlNPTi5zdHJpbmdpZnkoc2NhbGVJbWcpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBtb3ZlTGVmdCA9IDI7XHJcbiAgICAgICAgICAgIHZhciBtb3ZlVG9wID0gMjtcclxuICAgICAgICAgICAgdmFyIG1vdmVMZWZ0RGVmYXVsdCA9IDA7XHJcbiAgICAgICAgICAgIHZhciBtb3ZlVG9wRGVmYXVsdCA9IDA7XHJcbiAgICAgICAgICAgICQoXCJtYXBfYmdcIikuY3NzKFwibGVmdFwiLCBcIlwiICsgbW92ZUxlZnREZWZhdWx0ICsgXCIlXCIpO1xyXG4gICAgICAgICAgICAkKFwibWFwX2JnXCIpLmNzcyhcInRvcFwiLCBcIlwiICsgbW92ZVRvcERlZmF1bHQgKyBcIiVcIik7XHJcbiAgICAgICAgICAgIHN0eWxlUHJvcHMubGVmdCA9IFwiXCIgKyBtb3ZlTGVmdERlZmF1bHQgKyBcIiVcIjtcclxuICAgICAgICAgICAgc3R5bGVQcm9wcy50b3AgPSBcIlwiICsgbW92ZVRvcERlZmF1bHQgKyBcIiVcIjtcclxuICAgICAgICAgICAgJChcIiNtb3ZlTGVmdFwiKS5iaW5kKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBtb3ZlTGVmdCArPSAzO1xyXG4gICAgICAgICAgICAgICAgJChcIiNtYXBfYmdcIikuY3NzKFwibGVmdFwiLCBcIlwiICsgbW92ZUxlZnQgKyBcIiVcIik7XHJcbiAgICAgICAgICAgICAgICBzdHlsZVByb3BzLmxlZnQgPSBcIlwiICsgbW92ZUxlZnQgKyBcIiVcIjtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkKFwiI21vdmVSaWdodFwiKS5iaW5kKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBtb3ZlTGVmdCAtPSAzO1xyXG4gICAgICAgICAgICAgICAgJChcIiNtYXBfYmdcIikuY3NzKFwibGVmdFwiLCBcIlwiICsgbW92ZUxlZnQgKyBcIiVcIik7XHJcbiAgICAgICAgICAgICAgICBzdHlsZVByb3BzLmxlZnQgPSBcIlwiICsgbW92ZUxlZnQgKyBcIiVcIjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICQoXCIjbW92ZVRvcFwiKS5iaW5kKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBtb3ZlVG9wICs9IDM7XHJcbiAgICAgICAgICAgICAgICAkKFwiI21hcF9iZ1wiKS5jc3MoXCJ0b3BcIiwgXCJcIiArIG1vdmVUb3AgKyBcIiVcIik7XHJcbiAgICAgICAgICAgICAgICBzdHlsZVByb3BzLnRvcCA9IFwiXCIgKyBtb3ZlVG9wICsgXCIlXCI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkKFwiI21vdmVCb3R0b21cIikuYmluZChcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgbW92ZVRvcCAtPSAzO1xyXG4gICAgICAgICAgICAgICAgJChcIiNtYXBfYmdcIikuY3NzKFwidG9wXCIsIFwiXCIgKyBtb3ZlVG9wICsgXCIlXCIpO1xyXG4gICAgICAgICAgICAgICAgc3R5bGVQcm9wcy50b3AgPSBcIlwiICsgbW92ZVRvcCArIFwiJVwiO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7IC8vTWF0ZXJpYWxpemUuanMgcGx1Z2luc1xyXG4gICAgICAgICAgICAkKCcubW9kYWwnKS5tb2RhbCgpO1xyXG4gICAgICAgICAgICAkKCdzZWxlY3QnKS5tYXRlcmlhbF9zZWxlY3QoKTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBwcm9qZWN0SW5mbyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJQcm9qZWN0SW5mb1wiKSkgfHwge1xyXG4gICAgICAgICAgICAgICAgcHJvamVjdE5hbWU6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBwcm9qZWN0RGVzY3JpcHRpb246IFwiXCJcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICQoJy5tb2RhbDInKS5tb2RhbCh7XHJcbiAgICAgICAgICAgICAgICBkaXNtaXNzYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICByZWFkeTogZnVuY3Rpb24obW9kYWwsIHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvamVjdEluZm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNwcm9qZWN0TmFtZVwiKS52YWwocHJvamVjdEluZm8ucHJvamVjdE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3Byb2plY3REZXNjcmlwdGlvblwiKS52YWwocHJvamVjdEluZm8ucHJvamVjdERlc2NyaXB0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBOYW1lSW5wdXQgPSAkKFwiI3Byb2plY3ROYW1lXCIpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBEZXNjcmlwdGlvbklucHV0ID0gJChcIiNwcm9qZWN0RGVzY3JpcHRpb25cIikudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE5hbWVJbnB1dC5sZW5ndGggPiAwICYmIERlc2NyaXB0aW9uSW5wdXQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SW5mby5wcm9qZWN0TmFtZSA9IE5hbWVJbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdEluZm8ucHJvamVjdERlc2NyaXB0aW9uID0gRGVzY3JpcHRpb25JbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SW5mby5wcm9qZWN0TmFtZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RJbmZvLnByb2plY3REZXNjcmlwdGlvbiA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiUHJvamVjdEluZm9cIiwgSlNPTi5zdHJpbmdpZnkocHJvamVjdEluZm8pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAkKCcuYnV0dG9uLWNvbGxhcHNlJykuc2lkZU5hdih7XHJcbiAgICAgICAgICAgICAgICBtZW51V2lkdGg6IDEyMDAsXHJcbiAgICAgICAgICAgICAgICBlZGdlOiAnbGVmdCcsXHJcbiAgICAgICAgICAgICAgICBjbG9zZU9uQ2xpY2s6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkKFwiI21lbnVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnLmFjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcudGFwLXRhcmdldCcpLnRhcFRhcmdldCgnb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy50YXAtdGFyZ2V0JykudGFwVGFyZ2V0KCdjbG9zZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgfSk7Il19
